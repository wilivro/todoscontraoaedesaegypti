define(function(require){function _setConfig(opt){_configEDI=opt}function _init(slides,cb,cbfinal,opt){function handleLeftClick(){$(this);$page.animate({left:"+=778px"})}function handleRightClick(){var $self=$(this),$_slide=$self.closest(".slide");$page.animate({left:"-=778px"}),$(".btn-prev, .btn-next").off(),edi.regressiva(config.tempoBloqueia,"para clicar no próximo botao!",function(){$_slide.hasClass("show")||($_slide.addClass("show"),peca.objetivos.unshift(1),edi.objetivos.unshift(1),peca.objetivos.pop(),edi.objetivos.pop(),edi.finalizar({mostrarResultado:!1}),cb&&cb(),$(".show").length===peca.objetivos.length&&cbfinal&&cbfinal()),$(".btn-prev").click(handleLeftClick),$(".btn-next").click(handleRightClick)})}edi.iniciar(_configEDI);var peca=this,config={tempoBloqueia:1e3};if($.extend(config,opt),!slides)return console.error("[slides] é um parâmetro obrigatório!");slides.forEach(function(slide,i){i!=slides.length-1&&(peca.objetivos.push(0),edi.objetivos.push(0))});var $slideHorizontal=$("<div>").attr({id:"slide-horizontal","data-edi":"slide-horizontal"}).appendTo("#conteudo"),$page=$("<div>").attr("id","page").css("width",788*slides.length).appendTo($slideHorizontal);return slides.forEach(function(slide,i){var $slide=$("<div>").addClass("slide").attr("id",i).appendTo($page),$btnPrev=$("<div>").addClass("button btn-prev").css({cursor:"pointer"}).html('<i class="fa fa-chevron-left">');0!==i&&$btnPrev.appendTo($slide).click(handleLeftClick);var $btnNext=($("<div>").addClass("container").html(slide).appendTo($slide),$("<div>").addClass("button btn-next").css({cursor:"pointer"}).html('<i class="fa fa-chevron-right">'));i!==slides.length-1&&$btnNext.appendTo($slide).click(handleRightClick)}),ARR_TAREFAS[tarefaSlide].resolve(),{objetivos:peca.objetivos,finalizar:edi.finalizar({mostrarResultado:!1})}}var tarefaSlide=addTarefa(),edi=require("../lib/edi"),_configEDI=null;return{objetivos:[],regressiva:edi.regressiva,setConfig:_setConfig,slide_horizontal:_init}});