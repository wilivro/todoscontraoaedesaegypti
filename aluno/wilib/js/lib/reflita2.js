define(function(require){"use strict";function _setConfig(config){_configEDI=config}function _init(dica,callback,settings){function mascote0(){var pathMascote="../../canvas/objetos/mascoteIndice";require([pathMascote],function(canvas){canvas.obj.css({top:245,left:0}).appendTo($reflita),canvas.play()})}function mascote1(){$("<img>").attr("src","../wilib/img/svg/mascote_pensando.svg").css({width:50,height:100,position:"absolute",left:82,top:264}).appendTo($reflita)}edi.iniciar(_configEDI);var config={fontSize:13,lineHeight:1.3,color:"#666",tempoFinalizar:3e3,mascote:0,textAlign:"center"};settings&&$.extend(config,settings);var $reflita=$("<section>").addClass("reflita").attr("data-edi","reflita").appendTo("#conteudo"),$balao=$("<div>").addClass("reflita-balao").appendTo($reflita),pathReflita=($("<div>").addClass("balao-texto").html("<p>"+dica+"</p>").css({fontSize:config.fontSize,lineHeight:config.lineHeight,color:config.color,textAlign:config.textAlign}).appendTo($balao),"../../canvas/objetos/animaReflita");switch(require([pathReflita],function(canvas){var anima=new canvas.reflita;anima.obj.attr({width:100,height:180}).css({top:25,left:40}).appendTo($balao),anima.play()}),config.mascote){case 0:mascote0();break;case 1:mascote1()}setTimeout(function(){edi.finalizar(),callback&&callback()},config.tempoFinalizar),ARR_TAREFAS[tarefaRevela].resolve()}var tarefaRevela=addTarefa(),edi=require("../lib/edi"),_configEDI=null;return{objetivos:[],setConfig:_setConfig,reflita2:_init}});