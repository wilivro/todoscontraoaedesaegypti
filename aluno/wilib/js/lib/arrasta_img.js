define(function(require){"use strict";function _setConfig(config){_configEDI=config}function _init(arr,cb,cbfinal,opt){edi.iniciar(_configEDI);var _arr=[],config={width:100,height:150,left:10,top:80,margin:8,fontSize:12,marginArrasta:"10px 14px",cb:null};opt&&$.extend(config,opt);var $arrasta_img=$("<section>").attr({id:"arrasta-img","data-edi":"arrasta-img"}).css({position:"absolute",left:config.left,top:config.top}).appendTo("#conteudo"),$arrastas=$("<div>").attr("id","arrastas").css({width:788,height:80,position:"absolute",textAlign:"center",left:0,bottom:0,background:"#eee",borderTop:"1px solid #ddd"}).appendTo("#conteudo");arr.forEach(function(data,i){var $alvo=$("<div>").addClass("alvo").css({background:"#fff",width:config.width,height:config.height,border:"1px solid rgba(0, 0, 0, 0.1)",display:"inline-block",margin:config.margin,borderRadius:5,padding:5,position:"relative"}).appendTo($arrasta_img);$("<img>").attr("src",data.img).css({width:config.width,height:config.width,position:"absolute",left:5,top:5,borderRadius:5}).appendTo($alvo),$("<div>").addClass("alvo-inner").attr("data-correta",i).css({width:config.width,height:config.height-config.width-5,position:"absolute",bottom:5,left:5}).appendTo($alvo);_arr.push({txt:data.txt,dataCorreta:i})}),_arr.sort(function(){return.5-Math.random()}),_arr.forEach(function(data){var $center=$("<div>").css({display:"inline-block",width:config.width,height:config.height-config.width-5,margin:config.marginArrasta}).appendTo($arrastas),$arrasta=$("<div>").addClass("arrasta").attr("data-correta",data.dataCorreta).css({width:config.width,height:config.height-config.width-5,display:"table",fontSize:config.fontSize,textAlign:"center"}).appendTo($center);$("<div>").css({width:"100%",display:"table-cell",verticalAlign:"middle"}).html(data.txt).appendTo($arrasta),$arrasta.mouseenter(function(){$(this).css("background","#ccc")}),$arrasta.mouseleave(function(){$(this).css("background","transparent")})}),ARR_TAREFAS[tarefaarrasta_img].resolve(config.cb),arrastaMod.arrasta("arrasta","alvo-inner",function(a,b,c){$(b).off().css({margin:0,backgrond:"transparent"}),$(c).html($(b).html()).css({"font-size":config.fontSize}),cb&&cb(a,b,c)},function(){cbfinal&&cbfinal()},{alvoFixo:!1})}var tarefaarrasta_img=addTarefa(),edi=require("../lib/edi"),_configEDI=null,arrastaMod=require("../lib/arrasta");return{objetivos:[],setConfig:_setConfig,arrasta_img:_init}});