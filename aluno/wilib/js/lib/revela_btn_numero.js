define(function(require){function _setConfig(config){_configEDI=config}function _init(botoes,callBack,callBackFinal,settings){function _onClickBtn(e){e.stopPropagation();var $self=$(this);if(!$self.hasClass("active")){$("[data-edi='revela_btn_numero'] .btn-default").removeClass("active"),peca.objetivos.length>0&&($("[data-edi='revela_btn_numero'] .btn-default").off(),$(this).addClass("btn-default-hover").removeClass("ativo").off()),$self.addClass("active"),$self.hasClass("check")||(edi.objetivos.pop(),peca.objetivos.pop(),licao.config.WIQUADRO&&Wiquadro.api.addInteration(edi.interacao.revela,$(this).attr("id"),$(this).attr("id"),"T"),config.tempoPassar||0!==config.tempoPassar?edi.regressiva(config.tempoPassar+"000","para clicar em outro botÃ£o!",function(){peca.objetivos.length>0&&$("[data-edi='revela_btn_numero'] .ativo").click(_onClickBtn),edi.finalizar()}):edi.finalizar(),$self.addClass("check"),0===peca.objetivos.length&&($("[data-edi='revela_btn_numero'] .check").click(_onClickBtn),callBackFinal&&callBackFinal()));var num=$self.attr("data-texto");texto.html(botoes[num].texto),clickAnterior&&$(clickAnterior).css({cursor:"pointer"}).animate({opacity:1},200),$self.css({cursor:"default"}).animate({opacity:0},200,function(){clickAnterior=this}),boxTexto.css("display","inline-block"),btnTexto&&btnTexto.css({top:0,left:0,width:0,height:0,fontWeight:"normal"}).html($self.html()).animate({top:-20,left:-20,width:35,height:35},200,function(){$("#progress").length||$("[data-edi='revela_btn_numero'] .btn-default").click(_onClickBtn)}),callBack&&callBack()}}edi.iniciar(_configEDI);var clickAnterior,peca=this,qtd=botoes.length/2;qtd=Math.ceil(qtd);var config={aleatorio:!1,QtdNumbTop:qtd,tamanhoBoxTexto:535,tamanhoFontBtns:30,larguraBtn:35,alturaBtn:35,marginBtns:10,tamanhoFonteTexto:16,tempoPassar:5,leftBtns:0,leftRevela:0,topRevela:0,showNumber:!0};settings&&$.extend(config,settings),config.aleatorio&&botoes.sort(function(){return.5-Math.random()});var ctn=$("<section>").attr("data-edi","revela_btn_numero").appendTo("#conteudo"),container=$("<section>").css({position:"relative",textAlign:"center",display:"table-cell",verticalAlign:"middle",width:788,height:315,paddingLeft:config.leftRevela,paddingTop:config.topRevela}).appendTo(ctn),containerBtns=$("<section>").css({position:"absolute",top:68,left:config.leftBtns,width:788,height:315}).appendTo(ctn),btns1=$("<div>").css({top:20,position:"relative",textAlign:"center",verticalAlign:"middle",height:50}).addClass("btns1").appendTo(containerBtns),btns2=$("<div>").css({top:205,position:"relative",textAlign:"center",verticalAlign:"middle",height:50}).addClass("btns2").appendTo(containerBtns),boxTexto=$("<div>").css({position:"relative",width:config.tamanhoBoxTexto,height:150,borderRadius:10,border:"1px solid rgb(167, 185, 195)",boxShadow:"1px 1px 5px 1px rgba(128,128,128,.3)",verticalAlign:"middle",display:"none",top:5}).appendTo(container),dvTexto=$("<div>").css({position:"absolute",left:55,height:boxTexto.height(),width:boxTexto.width()-110}).appendTo(boxTexto),texto=$("<div>").css({fontSize:config.tamanhoFonteTexto,fontWeight:"bold",letterSpacing:1,position:"relative",textAlign:"center",display:"table-cell",lineHeight:"18px",verticalAlign:"middle",width:dvTexto.width(),height:dvTexto.height()}).appendTo(dvTexto);if(config.showNumber)var btnTexto=$("<div>").css({position:"relative",width:0,height:0,margin:0,top:0,left:0,"float":"left",textAlign:"center",fontSize:"34px",lineHeight:"35px",padding:5}).addClass("btn btn-hover").appendTo(boxTexto);for(var i=0;i<botoes.length;i++){edi.objetivos.push(0),peca.objetivos.push(0);var btns=i+1<=config.QtdNumbTop?btns1:btns2;botoes[i].letra?$("<div>").css({position:"relative",width:config.larguraBtn,height:config.alturaBtn,margin:0,marginRight:config.marginBtns,fontSize:config.tamanhoFontBtns,lineHeight:"35px"}).attr("data-texto",i).html(botoes[i].letra).addClass("btn btn-default").appendTo(btns):$("<div>").css({position:"relative",width:config.larguraBtn,height:config.alturaBtn,margin:0,marginRight:config.marginBtns,fontSize:config.tamanhoFontBtns,lineHeight:"35px"}).attr("data-texto",i).html(i+1).addClass("btn btn-default ativo").appendTo(btns)}$(".btn-default").click(_onClickBtn),ARR_TAREFAS[tarefaBtnNumero].resolve()}var tarefaBtnNumero=addTarefa(),edi=require("../lib/edi"),_configEDI=null;return{objetivos:[],setConfig:_setConfig,revela_btn_numero:_init}});