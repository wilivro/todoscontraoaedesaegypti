define(function(require){function _setConfig(config){_configEDI=config}function _init(alternativas,callback,callbackFinal,settings){function onMouseClick(){var self=$(this),correta=self.attr("data-correta"),$miniIcon=self.parent().find(".mini-icon");"true"==correta?(self.addClass("hover"),self.parent().find("._btn").off(),animaTrue($miniIcon),edi.objetivos.unshift(1),callback&&callback(!0,self)):(self.removeClass("hover").off(),self.parent().find("._btn").off(),animaFalse($miniIcon),edi.objetivos.unshift(2),callback&&callback(!1,self)),peca.objetivos.pop(),edi.objetivos.pop(),edi.finalizar();var acertou=!1,acertos=0;edi.objetivos.forEach(function(obj){1==obj&&acertos++}),acertos==edi.objetivos.length&&(acertou=!0),0===peca.objetivos.length&&callbackFinal&&callbackFinal(acertou)}function onMouseEnter(){$(this).addClass("hover")}function onMouseLeave(){$(this).removeClass("hover")}function animaTrue($miniIcon){if(config.animacao){var $icoMiniAcertou=$("<span>").css({width:42,height:40,position:"absolute",left:6,top:-1}).appendTo($miniIcon),img="../../canvas/objetos/animaCerto";require([img],function(canvas){var mascote=new canvas.animaCerto({cor:"#0060B6"});mascote.obj.css({width:32*getScale(),top:"2px",left:"10px"}).appendTo($icoMiniAcertou),mascote.play()})}}function animaFalse($miniIcon){if(config.animacao){var $icoMiniErrou=$("<span>").css({width:32,height:32,position:"absolute",left:11,top:4}).appendTo($miniIcon),img="../../canvas/objetos/animaErrado";require([img],function(canvas){var mascote=new canvas.animaErrado({cor:"#F00"});mascote.obj.css({top:"0px",left:"0px"}).appendTo($icoMiniErrou),mascote.play()})}}edi.iniciar(_configEDI);var peca=this,alter=alternativas,config={width:740,left:25,top:10,embaralhar:!0,animacao:!0};if(settings&&$.extend(config,settings),config.embaralhar)for(var valorTemporaio,indexAleatorio,indexAtual=alter.length;0!==indexAtual;)indexAleatorio=Math.floor(Math.random()*indexAtual),indexAtual-=1,valorTemporaio=alter[indexAtual],alter[indexAtual]=alter[indexAleatorio],alter[indexAleatorio]=valorTemporaio;alter.forEach(function(){peca.objetivos.push(0),edi.objetivos.push(0)});var $alterPN=$("<section>").addClass("alter-pn").attr("data-edi","alternativa_pn").css({width:config.width,top:config.top,left:config.left}).appendTo("#conteudo");alter.forEach(function(obj,i){var $item=$("<div>").addClass("item").attr("data-correta",obj.dataCorreta).appendTo($alterPN),$btns=$("<div>").addClass("btns").appendTo($item),$btnTrue=$("<span>").addClass("_btn btn-true").attr("id","btn-true-"+i).appendTo($btns).mouseenter(onMouseEnter).mouseleave(onMouseLeave).click(onMouseClick);$("<i>").addClass("fa fa-thumbs-o-up").appendTo($btnTrue);var $btnFalse=$("<span>").addClass("_btn btn-false").attr("id","btn-false-"+i).appendTo($btns).mouseenter(onMouseEnter).mouseleave(onMouseLeave).click(onMouseClick);$("<i>").addClass("fa fa-thumbs-o-down").appendTo($btnFalse);$("<span>").addClass("mini-icon").appendTo($btns),$("<div>").addClass("texto").css({width:config.width-200}).html("<p>"+obj.texto+"</p>").appendTo($item);obj.dataCorreta?($btnTrue.attr("data-correta",!0),$btnFalse.attr("data-correta",!1)):($btnTrue.attr("data-correta",!1),$btnFalse.attr("data-correta",!0))}),ARR_TAREFAS[tarefaalternativa_pn].resolve()}var tarefaalternativa_pn=addTarefa(),edi=require("../lib/edi"),_configEDI=null;return{objetivos:[],setConfig:_setConfig,alternativa_pn:_init}});