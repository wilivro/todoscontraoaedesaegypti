define(function(require){function _setConfig(config){_configEDI=config}function _popup(msg,opt){edi.util.popUp(msg,opt)}function _init(bt_botoes,callback,callbackFinal,settings){function handlerBtnClick(e){e.stopPropagation(),$(this).css("border","0px solid #CCC");var _this=$(this);peca.objetivos.length&&edi.objetivos.pop(),peca.objetivos.pop(),"true"==_this.attr("data-correta")?(edi.objetivos.unshift(1),_this.css("color","#0060B6"),edi.acertos.push(_this.attr("id")),callback&&callback(!0,_this)):(edi.objetivos.unshift(2),_this.css("color","#F00"),callback&&callback(!1,_this)),!peca.objetivos.length&&edi.objetivos.indexOf(2)>=0?(callbackFinal&&callbackFinal(!1),edi.objetivos=[2],$(".botoes").off()):!peca.objetivos.length&&edi.objetivos.indexOf(2)<0&&(callbackFinal&&callbackFinal(!0),$(".botoes").off()),edi.finalizar()}edi.iniciar(_configEDI),peca=this;var config={width:176,height:38,margin:"0px 13px 10px 10px",left:0,top:73};settings&&$.extend(config,settings);for(var sc_ficaBotao=$("<section>").attr("id","ficaBotoes").attr("data-edi","alternativa_botao").css({position:"absolute",top:config.top,left:config.left,width:4*(config.width+23),height:315}).appendTo("#conteudo"),sc_centralizaBotoes=$("<div>").css({position:"relative",display:"table-cell",verticalAlign:"middle",textAlign:"center",width:sc_ficaBotao.width(),height:315}).appendTo(sc_ficaBotao),mouseCima=function(){$(this).css("border","1px solid #CCC")},mouseFora=function(){$(this).css("border","0px solid #CCC")},i=0;i<bt_botoes.length;i++){bt_botoes[i].dataCorreta&&(edi.objetivos.push(0),this.objetivos.push(0));var dv_botoes=$("<div>").attr("id","btn"+i).css({position:"relative",display:"inline-block",width:config.width,height:config.height,margin:config.margin,textAlign:"center"}).appendTo(sc_centralizaBotoes);(i+1)%7===0&&0!==i&&$("<br>").appendTo(sc_centralizaBotoes);$("<div>").attr("id","botoes"+i).attr("data-correta",bt_botoes[i].dataCorreta).addClass("botoes").css({position:"relative",display:"table-cell",verticalAlign:"middle",height:config.height,width:config.width,color:"#999",cursor:"pointer"}).mouseover(mouseCima).mouseout(mouseFora).click(handlerBtnClick).html(bt_botoes[i].texto).appendTo(dv_botoes)}if(edi.util.getURL("acertos")){var acertos=edi.util.getURL("acertos").split(",");acertos.forEach(function(entra){$("#"+entra).click().off()})}return ARR_TAREFAS[tarefaAlterBtn].resolve(config.cb),{container:sc_ficaBotao}}var tarefaAlterBtn=addTarefa(),edi=require("../lib/edi"),_configEDI=null;return{objetivos:[],setConfig:_setConfig,alternativa_b06:_init,telaAtual:edi.util.getURL("quest"),popup:_popup}});