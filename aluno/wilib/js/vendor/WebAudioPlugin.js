this.createjs=this.createjs||{},function(){"use strict";function WebAudioPlugin(){this.init()}var s=WebAudioPlugin;s.capabilities=null,s.isSupported=function(){var isMobilePhoneGap=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||isMobilePhoneGap||this.isFileXHRSupported()?(s.generateCapabilities(),null!=s.context):!1},s.isFileXHRSupported=function(){var supported=!0,xhr=new XMLHttpRequest;try{xhr.open("GET","fail.fail",!1)}catch(error){return supported=!1}xhr.onerror=function(){supported=!1},xhr.onload=function(){supported=404==this.status||200==this.status||0==this.status&&""!=this.response};try{xhr.send()}catch(error){supported=!1}return supported},s.generateCapabilities=function(){if(null==s.capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(window.webkitAudioContext)s.context=new webkitAudioContext;else{if(!window.AudioContext)return null;s.context=new AudioContext}s.compatibilitySetUp(),s.playEmptySound(),s.capabilities={panning:!0,volume:!0,tracks:-1};for(var supportedExtensions=createjs.Sound.SUPPORTED_EXTENSIONS,extensionMap=createjs.Sound.EXTENSION_MAP,i=0,l=supportedExtensions.length;l>i;i++){var ext=supportedExtensions[i],playType=extensionMap[ext]||ext;s.capabilities[ext]="no"!=t.canPlayType("audio/"+ext)&&""!=t.canPlayType("audio/"+ext)||"no"!=t.canPlayType("audio/"+playType)&&""!=t.canPlayType("audio/"+playType)}s.context.destination.numberOfChannels<2&&(s.capabilities.panning=!1),s.dynamicsCompressorNode=s.context.createDynamicsCompressor(),s.dynamicsCompressorNode.connect(s.context.destination),s.gainNode=s.context.createGain(),s.gainNode.connect(s.dynamicsCompressorNode)}},s.compatibilitySetUp=function(){if(!s.context.createGain){s.context.createGain=s.context.createGainNode;var audioNode=s.context.createBufferSource();audioNode.__proto__.start=audioNode.__proto__.noteGrainOn,audioNode.__proto__.stop=audioNode.__proto__.noteOff,this.panningModel=0}},s.playEmptySound=function(){var buffer=this.context.createBuffer(1,1,22050),source=this.context.createBufferSource();source.buffer=buffer,source.connect(this.context.destination),source.start(0,0,0)};var p=WebAudioPlugin.prototype;p.capabilities=null,p.volume=1,p.context=null,p.panningModel="equalpower",p.dynamicsCompressorNode=null,p.gainNode=null,p.arrayBuffers=null,p.init=function(){this.capabilities=s.capabilities,this.arrayBuffers={},this.context=s.context,this.gainNode=s.gainNode,this.dynamicsCompressorNode=s.dynamicsCompressorNode},p.register=function(src,instances){this.arrayBuffers[src]=!0;var tag=new createjs.WebAudioPlugin.Loader(src,this);return{tag:tag}},p.isPreloadStarted=function(src){return null!=this.arrayBuffers[src]},p.isPreloadComplete=function(src){return!(null==this.arrayBuffers[src]||1==this.arrayBuffers[src])},p.removeFromPreload=function(src){delete this.arrayBuffers[src]},p.removeSound=function(src){delete this.arrayBuffers[src]},p.removeAllSounds=function(){this.arrayBuffers={}},p.addPreloadResults=function(src,result){this.arrayBuffers[src]=result},p.handlePreloadComplete=function(){createjs.Sound.sendFileLoadEvent(this.src)},p.preload=function(src,instance,basePath){this.arrayBuffers[src]=!0;var loader=new createjs.WebAudioPlugin.Loader(src,this);loader.onload=this.handlePreloadComplete,null!=basePath&&(loader.src=basePath+loader.src),loader.load()},p.create=function(src){return this.isPreloadStarted(src)||this.preload(src),new createjs.WebAudioPlugin.SoundInstance(src,this)},p.setVolume=function(value){return this.volume=value,this.updateVolume(),!0},p.updateVolume=function(){var newVolume=createjs.Sound.masterMute?0:this.volume;newVolume!=this.gainNode.gain.value&&(this.gainNode.gain.value=newVolume)},p.getVolume=function(){return this.volume},p.setMute=function(value){return this.updateVolume(),!0},p.toString=function(){return"[WebAudioPlugin]"},createjs.WebAudioPlugin=WebAudioPlugin}(),function(){"use strict";function SoundInstance(src,owner){this.init(src,owner)}var p=SoundInstance.prototype;p.src=null,p.uniqueId=-1,p.playState=null,p.owner=null,p.offset=0,p.delay=0,p._volume=1,Object.defineProperty(p,"volume",{get:function(){return this._volume},set:function(value){return null==Number(value)?!1:(value=Math.max(0,Math.min(1,value)),this._volume=value,void this.updateVolume())}}),p._pan=0,Object.defineProperty(p,"pan",{get:function(){return this._pan},set:function(value){return this.owner.capabilities.panning&&null!=Number(value)?(value=Math.max(-1,Math.min(1,value)),this._pan=value,void this.panNode.setPosition(value,0,-.5)):!1}}),p.duration=0,p.remainingLoops=0,p.delayTimeoutId=null,p.soundCompleteTimeout=null,p.panNode=null,p.gainNode=null,p.sourceNode=null,p.sourceNodeNext=null,p.muted=!1,p.paused=!1,p.startTime=0,p.addEventListener=null,p.removeEventListener=null,p.removeAllEventListeners=null,p.dispatchEvent=null,p.hasEventListener=null,p._listeners=null,p.endedHandler=null,p.readyHandler=null,p.stalledHandler=null,p.sendEvent=function(type){var event=new createjs.Event(type);this.dispatchEvent(event)},p.init=function(src,owner){this.owner=owner,this.src=src,this.panNode=this.owner.context.createPanner(),this.panNode.panningModel=this.owner.panningModel,this.gainNode=this.owner.context.createGain(),this.gainNode.connect(this.panNode),this.owner.isPreloadComplete(this.src)&&(this.duration=1e3*this.owner.arrayBuffers[this.src].duration),this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},p.cleanUp=function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode=this.cleanUpAudioNode(this.sourceNode),this.sourceNodeNext=this.cleanUpAudioNode(this.sourceNodeNext)),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),this.startTime=0,null!=window.createjs&&createjs.Sound.playFinished(this)},p.cleanUpAudioNode=function(audioNode){return audioNode&&(audioNode.stop(0),audioNode.disconnect(this.gainNode),audioNode=null),audioNode},p.interrupt=function(){this.playState=createjs.Sound.PLAY_INTERRUPTED,this.cleanUp(),this.paused=!1,this.sendEvent("interrupted")},p.handleSoundStalled=function(event){this.sendEvent("failed")},p.handleSoundReady=function(event){if(null!=window.createjs){if(1e3*this.offset>this.getDuration())return void this.playFailed();this.offset<0&&(this.offset=0),this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.panNode.connect(this.owner.gainNode);var dur=this.owner.arrayBuffers[this.src].duration;this.sourceNode=this.createAndPlayAudioNode(this.owner.context.currentTime-dur,this.offset),this.duration=1e3*dur,this.startTime=this.sourceNode.startTime-this.offset,this.soundCompleteTimeout=setTimeout(this.endedHandler,1e3*(dur-this.offset)),0!=this.remainingLoops&&(this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0))}},p.createAndPlayAudioNode=function(startTime,offset){var audioNode=this.owner.context.createBufferSource();audioNode.buffer=this.owner.arrayBuffers[this.src],audioNode.connect(this.gainNode);this.owner.context.currentTime;return audioNode.startTime=startTime+audioNode.buffer.duration,audioNode.start(audioNode.startTime,offset,audioNode.buffer.duration-offset),audioNode},p.play=function(interrupt,delay,offset,loop,volume,pan){this.cleanUp(),createjs.Sound.playInstance(this,interrupt,delay,offset,loop,volume,pan)},p.beginPlaying=function(offset,loop,volume,pan){return null!=window.createjs&&this.src?(this.offset=offset/1e3,this.remainingLoops=loop,this.volume=volume,this.pan=pan,this.owner.isPreloadComplete(this.src)?(this.handleSoundReady(null),this.sendEvent("succeeded"),1):void this.playFailed()):void 0},p.pause=function(){return this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0)},p.resume=function(){return this.paused?(this.handleSoundReady(null),!0):!1},p.stop=function(){return this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.offset=0,!0},p.setVolume=function(value){return this.volume=value,!0},p.updateVolume=function(){var newVolume=this.muted?0:this._volume;return newVolume!=this.gainNode.gain.value?(this.gainNode.gain.value=newVolume,!0):!1},p.getVolume=function(){return this.volume},p.setMute=function(value){return null==value||void 0==value?!1:(this.muted=value,this.updateVolume(),!0)},p.getMute=function(){return this.muted},p.setPan=function(value){return this.pan=value,this.pan!=value?!1:void 0},p.getPan=function(){return this.pan},p.getPosition=function(){if(this.paused||null==this.sourceNode)var pos=this.offset;else var pos=this.owner.context.currentTime-this.startTime;return 1e3*pos},p.setPosition=function(value){return this.offset=value/1e3,this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),clearTimeout(this.soundCompleteTimeout)),this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this.handleSoundReady(null),!0},p.getDuration=function(){return this.duration},p.handleSoundComplete=function(event){return this.offset=0,0!=this.remainingLoops?(this.remainingLoops--,this.sourceNodeNext?(this.cleanUpAudioNode(this.sourceNode),this.sourceNode=this.sourceNodeNext,this.startTime=this.sourceNode.startTime,this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0),this.soundCompleteTimeout=setTimeout(this.endedHandler,this.duration)):this.handleSoundReady(null),void this.sendEvent("loop")):void(null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete")))},p.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))},p.toString=function(){return"[WebAudioPlugin SoundInstance]"},createjs.EventDispatcher.initialize(SoundInstance.prototype),createjs.WebAudioPlugin.SoundInstance=SoundInstance}(),function(){"use strict";function Loader(src,owner){this.init(src,owner)}var p=Loader.prototype;p.request=null,p.owner=null,p.progress=-1,p.src=null,p.originalSrc=null,p.result=null,p.onload=null,p.onprogress=null,p.onError=null,p.init=function(src,owner){this.src=src,this.originalSrc=src,this.owner=owner},p.load=function(src){null!=src&&(this.src=src),this.request=new XMLHttpRequest,this.request.open("GET",this.src,!0),this.request.responseType="arraybuffer",this.request.onload=createjs.proxy(this.handleLoad,this),this.request.onError=createjs.proxy(this.handleError,this),this.request.onprogress=createjs.proxy(this.handleProgress,this),this.request.send()},p.handleProgress=function(loaded,total){this.progress=loaded/total,null!=this.onprogress&&this.onprogress({loaded:loaded,total:total,progress:this.progress})},p.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},p.handleAudioDecoded=function(decodedAudio){this.progress=1,this.result=decodedAudio,this.src=this.originalSrc,this.owner.addPreloadResults(this.src,this.result),this.onload&&this.onload()},p.handleError=function(evt){this.owner.removeSound(this.src),this.onerror&&this.onerror(evt)},p.toString=function(){return"[WebAudioPlugin Loader]"},createjs.WebAudioPlugin.Loader=Loader}();