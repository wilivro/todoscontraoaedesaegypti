!function(root,doc,factory){"function"==typeof define&&define.amd?define(["jquery"],function($){return factory($,root,doc),$.mobile}):factory(root.jQuery,root,doc)}(this,document,function(jQuery,window,document,undefined){!function($){$.mobile={}}(jQuery),function($,window,undefined){var nsNormalizeDict={};$.mobile=$.extend($.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:$(window),document:$(document),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(ypos){"number"!==$.type(ypos)&&(ypos=$.mobile.defaultHomeScroll),$.event.special.scrollstart.enabled=!1,setTimeout(function(){window.scrollTo(0,ypos),$.mobile.document.trigger("silentscroll",{x:0,y:ypos})},20),setTimeout(function(){$.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:nsNormalizeDict,nsNormalize:function(prop){return prop?nsNormalizeDict[prop]||(nsNormalizeDict[prop]=$.camelCase($.mobile.ns+prop)):void 0},getInheritedTheme:function(el,defaultTheme){for(var c,m,e=el[0],ltr="",re=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(m=re.exec(c))&&(ltr=m[2])));)e=e.parentNode;return ltr||defaultTheme||"a"},closestPageData:function($target){return $target.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function($set){return this.haveParents($set,"enhance")},hijackable:function($set){return this.haveParents($set,"ajax")},haveParents:function($set,attr){if(!$.mobile.ignoreContentEnabled)return $set;for(var e,$element,excluded,count=$set.length,$newSet=$(),i=0;count>i;i++){for($element=$set.eq(i),excluded=!1,e=$set[i];e;){var c=e.getAttribute?e.getAttribute("data-"+$.mobile.ns+attr):"";if("false"===c){excluded=!0;break}e=e.parentNode}excluded||($newSet=$newSet.add($element))}return $newSet},getScreenHeight:function(){return window.innerHeight||$.mobile.window.height()}},$.mobile),$.fn.jqmData=function(prop,value){var result;return"undefined"!=typeof prop&&(prop&&(prop=$.mobile.nsNormalize(prop)),result=arguments.length<2||value===undefined?this.data(prop):this.data(prop,value)),result},$.jqmData=function(elem,prop,value){var result;return"undefined"!=typeof prop&&(result=$.data(elem,prop?$.mobile.nsNormalize(prop):prop,value)),result},$.fn.jqmRemoveData=function(prop){return this.removeData($.mobile.nsNormalize(prop))},$.jqmRemoveData=function(elem,prop){return $.removeData(elem,$.mobile.nsNormalize(prop))},$.fn.removeWithDependents=function(){$.removeWithDependents(this)},$.removeWithDependents=function(elem){var $elem=$(elem);($elem.jqmData("dependents")||$()).remove(),$elem.remove()},$.fn.addDependents=function(newDependents){$.addDependents($(this),newDependents)},$.addDependents=function(elem,newDependents){var dependents=$(elem).jqmData("dependents")||$();$(elem).jqmData("dependents",$.merge(dependents,newDependents))},$.fn.getEncodedText=function(){return $("<div/>").text($(this).text()).html()},$.fn.jqmEnhanceable=function(){return $.mobile.enhanceable(this)},$.fn.jqmHijackable=function(){return $.mobile.hijackable(this)};var oldFind=$.find,jqmDataRE=/:jqmData\(([^)]*)\)/g;$.find=function(selector,context,ret,extra){return selector=selector.replace(jqmDataRE,"[data-"+($.mobile.ns||"")+"$1]"),oldFind.call(this,selector,context,ret,extra)},$.extend($.find,oldFind),$.find.matches=function(expr,set){return $.find(expr,null,null,set)},$.find.matchesSelector=function(node,expr){return $.find(expr,null,null,[node]).length>0}}(jQuery,this),function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)},$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,namespace=name.split(".")[0];name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?void(arguments.length&&this._createWidget(options,element)):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){$.isFunction(value)&&(prototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}())}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},prototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor)},$.widget.extend=function(target){for(var key,value,input=slice.call(arguments,1),inputIndex=0,inputLength=input.length;inputLength>inputIndex;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&value!==undefined&&($.isPlainObject(value)?target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):target[key]=value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options,isMethodCall?this.each(function(){var methodValue,instance=$.data(this,fullName);return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&methodValue!==undefined?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}):this.each(function(){var instance=$.data(this,fullName);instance?instance.option(options||{})._init():$.data(this,fullName,new object(options,this))}),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this.bindings=$(),this.hoverable=$(),this.focusable=$(),element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),value===undefined)return curOption[key]===undefined?null:curOption[key];curOption[key]=value}else{if(value===undefined)return this.options[key]===undefined?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){return suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof handler?instance[handler]:handler).apply(instance,arguments):void 0}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.delegate(selector,eventName,handlerProxy):element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.unbind(eventName).undelegate(eventName)},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}})}(jQuery),function($,undefined){$.widget("mobile.widget",{_createWidget:function(){$.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var elem=this.element,options={};return $.each(this.options,function(option){var value=elem.jqmData(option.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()}));value!==undefined&&(options[option]=value)}),options},enhanceWithin:function(target,useKeepNative){this.enhance($(this.options.initSelector,$(target)),useKeepNative)},enhance:function(targets,useKeepNative){var page,keepNative,$widgetElements=$(targets);$widgetElements=$.mobile.enhanceable($widgetElements),useKeepNative&&$widgetElements.length&&(page=$.mobile.closestPageData($widgetElements),keepNative=page&&page.keepNativeSelector()||"",$widgetElements=$widgetElements.not(keepNative)),$widgetElements[this.widgetName]()},raise:function(msg){throw"Widget ["+this.widgetName+"]: "+msg}})}(jQuery),function($,window){$.extend($.mobile,{loadingMessageTextVisible:undefined,loadingMessageTheme:undefined,loadingMessage:undefined,showPageLoadingMsg:function(theme,msgText,textonly){$.mobile.loading("show",theme,msgText,textonly)},hidePageLoadingMsg:function(){$.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var loaderClass="ui-loader",$html=$("html"),$window=$.mobile.window;$.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+loaderClass+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var activeBtn=$("."+$.mobile.activeBtnClass).first();this.element.css({top:$.support.scrollTop&&$window.scrollTop()+$window.height()/2||activeBtn.length&&activeBtn.offset().top||100})},checkLoaderPosition:function(){var offset=this.element.offset(),scrollTop=$window.scrollTop(),screenHeight=$.mobile.getScreenHeight();(offset.top<scrollTop||offset.top-scrollTop>screenHeight)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),$window.unbind("scroll",this.checkLoaderPosition).bind("scroll",$.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html($(this.defaultHtml).html())},show:function(theme,msgText,textonly){var textVisible,message,loadSettings;this.resetHtml(),"object"===$.type(theme)?(loadSettings=$.extend({},this.options,theme),theme=loadSettings.theme||$.mobile.loadingMessageTheme):(loadSettings=this.options,theme=theme||$.mobile.loadingMessageTheme||loadSettings.theme),message=msgText||$.mobile.loadingMessage||loadSettings.text,$html.addClass("ui-loading"),($.mobile.loadingMessage!==!1||loadSettings.html)&&(textVisible=$.mobile.loadingMessageTextVisible!==undefined?$.mobile.loadingMessageTextVisible:loadSettings.textVisible,this.element.attr("class",loaderClass+" ui-corner-all ui-body-"+theme+" ui-loader-"+(textVisible||msgText||theme.text?"verbose":"default")+(loadSettings.textonly||textonly?" ui-loader-textonly":"")),loadSettings.html?this.element.html(loadSettings.html):this.element.find("h1").text(message),this.element.appendTo($.mobile.pageContainer),this.checkLoaderPosition(),$window.bind("scroll",$.proxy(this.checkLoaderPosition,this)))},hide:function(){$html.removeClass("ui-loading"),$.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),$.mobile.window.unbind("scroll",this.fakeFixLoader),$.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),$window.bind("pagecontainercreate",function(){$.mobile.loaderWidget=$.mobile.loaderWidget||$($.mobile.loader.prototype.defaultHtml).loader()})}(jQuery,this),function($,window,undefined){function get_fragment(url){return url=url||location.href,"#"+url.replace(/^[^#]*#?(.*)$/,"$1")}var fake_onhashchange,str_hashchange="hashchange",doc=document,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange="on"+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange)},$.fn[str_hashchange].delay=50,special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){return supports_onhashchange?!1:void $(fake_onhashchange.start)},teardown:function(){return supports_onhashchange?!1:void $(fake_onhashchange.stop)}}),fake_onhashchange=function(){function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);hash!==last_hash?(history_set(last_hash=hash,history_hash),$(window).trigger(str_hashchange)):history_hash!==last_hash&&(location.href=location.href.replace(/#.*/,"")+history_hash),timeout_id=setTimeout(poll,$.fn[str_hashchange].delay)}var timeout_id,self={},last_hash=get_fragment(),fn_retval=function(val){return val},history_set=fn_retval,history_get=fn_retval;return self.start=function(){timeout_id||poll()},self.stop=function(){timeout_id&&clearTimeout(timeout_id),timeout_id=undefined},window.attachEvent&&!window.addEventListener&&!supports_onhashchange&&function(){var iframe,iframe_src;self.start=function(){iframe||(iframe_src=$.fn[str_hashchange].src,iframe_src=iframe_src&&iframe_src+get_fragment(),iframe=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){iframe_src||history_set(get_fragment()),poll()}).attr("src",iframe_src||"javascript:0").insertAfter("body")[0].contentWindow,doc.onpropertychange=function(){try{"title"===event.propertyName&&(iframe.document.title=doc.title)}catch(e){}})},self.stop=fn_retval,history_get=function(){return get_fragment(iframe.location.href)},history_set=function(hash,history_hash){var iframe_doc=iframe.document,domain=$.fn[str_hashchange].domain;hash!==history_hash&&(iframe_doc.title=doc.title,iframe_doc.open(),domain&&iframe_doc.write('<script>document.domain="'+domain+'"</script>'),iframe_doc.close(),iframe.location.hash=hash)}}(),self}()}(jQuery,this),function($,undefined){window.matchMedia=window.matchMedia||function(doc,undefined){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");return div.id="mq-test-1",div.style.cssText="position:absolute;top:-100em",fakeBody.style.background="none",fakeBody.appendChild(div),function(q){return div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width: 42px; }</style>',docElem.insertBefore(fakeBody,refNode),bool=42===div.offsetWidth,docElem.removeChild(fakeBody),{matches:bool,media:q}}}(document),$.mobile.media=function(q){return window.matchMedia(q).matches}}(jQuery),function($,undefined){var support={touch:"ontouchend"in document};$.mobile.support=$.mobile.support||{},$.extend($.support,support),$.extend($.mobile.support,support)}(jQuery),function($,undefined){$.extend($.support,{orientation:"orientation"in window&&"onorientationchange"in window})}(jQuery),function($,undefined){function propExists(prop){var uc_prop=prop.charAt(0).toUpperCase()+prop.substr(1),props=(prop+" "+vendors.join(uc_prop+" ")+uc_prop).split(" ");for(var v in props)if(fbCSS[props[v]]!==undefined)return!0}function validStyle(prop,value,check_vend){for(var ret,div=document.createElement("div"),uc=function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1)},vend_pref=function(vend){return""===vend?"":"-"+vend.charAt(0).toLowerCase()+vend.substr(1)+"-"},check_style=function(vend){var vend_prop=vend_pref(vend)+prop+": "+value+";",uc_vend=uc(vend),propStyle=uc_vend+(""===uc_vend?prop:uc(prop));div.setAttribute("style",vend_prop),div.style[propStyle]&&(ret=!0)},check_vends=check_vend?check_vend:vendors,i=0;i<check_vends.length;i++)check_style(check_vends[i]);return!!ret}function transform3dTest(){var mqProp="transform-3d",ret=$.mobile.media("(-"+vendors.join("-"+mqProp+"),(-")+"-"+mqProp+"),("+mqProp+")");if(ret)return!!ret;var el=document.createElement("div"),transforms={MozTransform:"-moz-transform",transform:"transform"};fakeBody.append(el);for(var t in transforms)el.style[t]!==undefined&&(el.style[t]="translate3d( 100px, 1px, 1px )",ret=window.getComputedStyle(el).getPropertyValue(transforms[t]));return!!ret&&"none"!==ret}function baseTagTest(){var link,rebase,fauxBase=location.protocol+"//"+location.host+location.pathname+"ui-dir/",base=$("head base"),fauxEle=null,href="";return base.length?href=base.attr("href"):base=fauxEle=$("<base>",{href:fauxBase}).appendTo("head"),link=$("<a href='testurl' />").prependTo(fakeBody),rebase=link[0].href,base[0].href=href||location.pathname,fauxEle&&fauxEle.remove(),0===rebase.indexOf(fauxBase)}function cssPointerEventsTest(){var supports,element=document.createElement("x"),documentElement=document.documentElement,getComputedStyle=window.getComputedStyle;return"pointerEvents"in element.style?(element.style.pointerEvents="auto",element.style.pointerEvents="x",documentElement.appendChild(element),supports=getComputedStyle&&"auto"===getComputedStyle(element,"").pointerEvents,documentElement.removeChild(element),!!supports):!1}function boundingRect(){var div=document.createElement("div");return"undefined"!=typeof div.getBoundingClientRect}function fixedPosition(){var w=window,ua=navigator.userAgent,platform=navigator.platform,wkmatch=ua.match(/AppleWebKit\/([0-9]+)/),wkversion=!!wkmatch&&wkmatch[1],ffmatch=ua.match(/Fennec\/([0-9]+)/),ffversion=!!ffmatch&&ffmatch[1],operammobilematch=ua.match(/Opera Mobi\/([0-9]+)/),omversion=!!operammobilematch&&operammobilematch[1];return!((platform.indexOf("iPhone")>-1||platform.indexOf("iPad")>-1||platform.indexOf("iPod")>-1)&&wkversion&&534>wkversion||w.operamini&&"[object OperaMini]"==={}.toString.call(w.operamini)||operammobilematch&&7458>omversion||ua.indexOf("Android")>-1&&wkversion&&533>wkversion||ffversion&&6>ffversion||"palmGetResource"in window&&wkversion&&534>wkversion||ua.indexOf("MeeGo")>-1&&ua.indexOf("NokiaBrowser/8.5.0")>-1)}var fakeBody=$("<body>").prependTo("html"),fbCSS=fakeBody[0].style,vendors=["Webkit","Moz","O"],webos="palmGetResource"in window,opera=window.opera,operamini=window.operamini&&"[object OperaMini]"==={}.toString.call(window.operamini),bb=window.blackberry&&!propExists("-webkit-transform");$.extend($.mobile,{browser:{}}),$.mobile.browser.oldIE=function(){var v=3,div=document.createElement("div"),a=div.all||[];do div.innerHTML="<!--[if gt IE "+ ++v+"]><br><![endif]-->";while(a[0]);return v>4?v:!v}(),$.extend($.support,{cssTransitions:"WebKitTransitionEvent"in window||validStyle("transition","height 100ms linear",["Webkit","Moz",""])&&!$.mobile.browser.oldIE&&!opera,pushState:"pushState"in history&&"replaceState"in history&&!(window.navigator.userAgent.indexOf("Firefox")>=0&&window.top!==window)&&-1===window.navigator.userAgent.search(/CriOS/),mediaquery:$.mobile.media("only all"),cssPseudoElement:!!propExists("content"),touchOverflow:!!propExists("overflowScrolling"),cssTransform3d:transform3dTest(),boxShadow:!!propExists("boxShadow")&&!bb,fixedPosition:fixedPosition(),scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in fakeBody[0])&&!webos&&!operamini,dynamicBaseTag:baseTagTest(),cssPointerEvents:cssPointerEventsTest(),boundingRect:boundingRect()}),fakeBody.remove();var nokiaLTE7_3=function(){var ua=window.navigator.userAgent;return ua.indexOf("Nokia")>-1&&(ua.indexOf("Symbian/3")>-1||ua.indexOf("Series60/5")>-1)&&ua.indexOf("AppleWebKit")>-1&&ua.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();$.mobile.gradeA=function(){return($.support.mediaquery||$.mobile.browser.oldIE&&$.mobile.browser.oldIE>=7)&&($.support.boundingRect||null!==$.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},$.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||operamini||nokiaLTE7_3,nokiaLTE7_3&&$(function(){$("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),$.support.boxShadow||$("html").addClass("ui-mobile-nosupport-boxshadow")}(jQuery),function($,undefined){var self,$win=$.mobile.window;$.event.special.navigate=self={bound:!1,pushStateEnabled:!0,originalEventName:undefined,isPushStateEnabled:function(){return $.support.pushState&&$.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return $.mobile.hashListeningEnabled===!0},popstate:function(event){var newEvent=new $.Event("navigate"),beforeNavigate=new $.Event("beforenavigate"),state=event.originalEvent.state||{};location.href;$win.trigger(beforeNavigate),beforeNavigate.isDefaultPrevented()||(event.historyState&&$.extend(state,event.historyState),newEvent.originalEvent=event,setTimeout(function(){$win.trigger(newEvent,{state:state})},0))},hashchange:function(event,data){var newEvent=new $.Event("navigate"),beforeNavigate=new $.Event("beforenavigate");$win.trigger(beforeNavigate),beforeNavigate.isDefaultPrevented()||(newEvent.originalEvent=event,$win.trigger(newEvent,{state:event.hashchangeState||{}}))},setup:function(data,namespaces){self.bound||(self.bound=!0,self.isPushStateEnabled()?(self.originalEventName="popstate",$win.bind("popstate.navigate",self.popstate)):self.isHashChangeEnabled()&&(self.originalEventName="hashchange",$win.bind("hashchange.navigate",self.hashchange)))}}}(jQuery),function($,undefined){var path,$base,dialogHashKey="&ui-state=dialog";$.mobile.path=path={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(url){var uri=url?this.parseUrl(url):location,hash=this.parseUrl(url||location.href).hash;return hash="#"===hash?"":hash,uri.protocol+"//"+uri.host+uri.pathname+uri.search+hash},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(url){if("object"===$.type(url))return url;var matches=path.urlParseRE.exec(url||"")||[];return{href:matches[0]||"",hrefNoHash:matches[1]||"",hrefNoSearch:matches[2]||"",domain:matches[3]||"",protocol:matches[4]||"",doubleSlash:matches[5]||"",authority:matches[6]||"",username:matches[8]||"",password:matches[9]||"",host:matches[10]||"",hostname:matches[11]||"",port:matches[12]||"",pathname:matches[13]||"",directory:matches[14]||"",filename:matches[15]||"",search:matches[16]||"",hash:matches[17]||""}},makePathAbsolute:function(relPath,absPath){if(relPath&&"/"===relPath.charAt(0))return relPath;relPath=relPath||"",absPath=absPath?absPath.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var absStack=absPath?absPath.split("/"):[],relStack=relPath.split("/"),i=0;i<relStack.length;i++){var d=relStack[i];switch(d){case".":break;case"..":absStack.length&&absStack.pop();break;default:absStack.push(d)}}return"/"+absStack.join("/")},isSameDomain:function(absUrl1,absUrl2){return path.parseUrl(absUrl1).domain===path.parseUrl(absUrl2).domain},isRelativeUrl:function(url){return""===path.parseUrl(url).protocol},isAbsoluteUrl:function(url){return""!==path.parseUrl(url).protocol},makeUrlAbsolute:function(relUrl,absUrl){if(!path.isRelativeUrl(relUrl))return relUrl;absUrl===undefined&&(absUrl=this.documentBase);var relObj=path.parseUrl(relUrl),absObj=path.parseUrl(absUrl),protocol=relObj.protocol||absObj.protocol,doubleSlash=relObj.protocol?relObj.doubleSlash:relObj.doubleSlash||absObj.doubleSlash,authority=relObj.authority||absObj.authority,hasPath=""!==relObj.pathname,pathname=path.makePathAbsolute(relObj.pathname||absObj.filename,absObj.pathname),search=relObj.search||!hasPath&&absObj.search||"",hash=relObj.hash;return protocol+doubleSlash+authority+pathname+search+hash},addSearchParams:function(url,params){var u=path.parseUrl(url),p="object"==typeof params?$.param(params):params,s=u.search||"?";return u.hrefNoSearch+s+("?"!==s.charAt(s.length-1)?"&":"")+p+(u.hash||"")},convertUrlToDataUrl:function(absUrl){var u=path.parseUrl(absUrl);return path.isEmbeddedPage(u)?u.hash.split(dialogHashKey)[0].replace(/^#/,"").replace(/\?.*$/,""):path.isSameDomain(u,this.documentBase)?u.hrefNoHash.replace(this.documentBase.domain,"").split(dialogHashKey)[0]:window.decodeURIComponent(absUrl)},get:function(newPath){return newPath===undefined&&(newPath=path.parseLocation().hash),path.stripHash(newPath).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(path){location.hash=path},isPath:function(url){return/\//.test(url)},clean:function(url){return url.replace(this.documentBase.domain,"")},stripHash:function(url){return url.replace(/^#/,"")},stripQueryParams:function(url){return url.replace(/\?.*$/,"")},cleanHash:function(hash){return path.stripHash(hash.replace(/\?.*$/,"").replace(dialogHashKey,""))},isHashValid:function(hash){return/^#[^#]+$/.test(hash)},isExternal:function(url){var u=path.parseUrl(url);return!(!u.protocol||u.domain===this.documentUrl.domain)},hasProtocol:function(url){return/^(:?\w+:)/.test(url)},isEmbeddedPage:function(url){var u=path.parseUrl(url);return""!==u.protocol?!this.isPath(u.hash)&&u.hash&&(u.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&u.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(u.href)},squash:function(url,resolutionUrl){var href,cleanedUrl,search,stateIndex,isPath=this.isPath(url),uri=this.parseUrl(url),preservedHash=uri.hash,uiState="";return resolutionUrl=resolutionUrl||(path.isPath(url)?path.getLocation():path.getDocumentUrl()),cleanedUrl=isPath?path.stripHash(url):url,cleanedUrl=path.isPath(uri.hash)?path.stripHash(uri.hash):cleanedUrl,stateIndex=cleanedUrl.indexOf(this.uiStateKey),stateIndex>-1&&(uiState=cleanedUrl.slice(stateIndex),cleanedUrl=cleanedUrl.slice(0,stateIndex)),href=path.makeUrlAbsolute(cleanedUrl,resolutionUrl),search=this.parseUrl(href).search,isPath?((path.isPath(preservedHash)||0===preservedHash.replace("#","").indexOf(this.uiStateKey))&&(preservedHash=""),uiState&&-1===preservedHash.indexOf(this.uiStateKey)&&(preservedHash+=uiState),-1===preservedHash.indexOf("#")&&""!==preservedHash&&(preservedHash="#"+preservedHash),href=path.parseUrl(href),href=href.protocol+"//"+href.host+href.pathname+search+preservedHash):href+=href.indexOf("#")>-1?uiState:"#"+uiState,href},isPreservableHash:function(hash){return 0===hash.replace("#","").indexOf(this.uiStateKey)}},path.documentUrl=path.parseLocation(),$base=$("head").find("base"),path.documentBase=$base.length?path.parseUrl(path.makeUrlAbsolute($base.attr("href"),path.documentUrl.href)):path.documentUrl,path.documentBaseDiffers=path.documentUrl.hrefNoHash!==path.documentBase.hrefNoHash,path.getDocumentUrl=function(asParsedObject){return asParsedObject?$.extend({},path.documentUrl):path.documentUrl.href},path.getDocumentBase=function(asParsedObject){return asParsedObject?$.extend({},path.documentBase):path.documentBase.href}}(jQuery),function($,undefined){$.mobile.path;$.mobile.History=function(stack,index){
this.stack=stack||[],this.activeIndex=index||0},$.extend($.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(url,data){data=data||{},this.getNext()&&this.clearForward(),data.hash&&-1===data.hash.indexOf("#")&&(data.hash="#"+data.hash),data.url=url,this.stack.push(data),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(url,stack,earlyReturn){stack=stack||this.stack;var entry,i,index,length=stack.length;for(i=0;length>i;i++)if(entry=stack[i],(decodeURIComponent(url)===decodeURIComponent(entry.url)||decodeURIComponent(url)===decodeURIComponent(entry.hash))&&(index=i,earlyReturn))return index;return index},closest:function(url){var closest,a=this.activeIndex;return closest=this.find(url,this.stack.slice(0,a)),closest===undefined&&(closest=this.find(url,this.stack.slice(a),!0),closest=closest===undefined?closest:closest+a),closest},direct:function(opts){var newActiveIndex=this.closest(opts.url),a=this.activeIndex;newActiveIndex!==undefined&&(this.activeIndex=newActiveIndex,this.previousIndex=a),a>newActiveIndex?(opts.present||opts.back||$.noop)(this.getActive(),"back"):newActiveIndex>a?(opts.present||opts.forward||$.noop)(this.getActive(),"forward"):newActiveIndex===undefined&&opts.missing&&opts.missing(this.getActive())}})}(jQuery),function($,undefined){var path=$.mobile.path,initialHref=location.href;$.mobile.Navigator=function(history){this.history=history,this.ignoreInitialHashChange=!0,$.mobile.window.bind({"popstate.history":$.proxy(this.popstate,this),"hashchange.history":$.proxy(this.hashchange,this)})},$.extend($.mobile.Navigator.prototype,{squash:function(url,data){var state,href,hash=path.isPath(url)?path.stripHash(url):url;return href=path.squash(url),state=$.extend({hash:hash,url:href},data),window.history.replaceState(state,state.title||document.title,href),state},hash:function(url,href){var parsed,loc,hash;if(parsed=path.parseUrl(url),loc=path.parseLocation(),loc.pathname+loc.search===parsed.pathname+parsed.search)hash=parsed.hash?parsed.hash:parsed.pathname+parsed.search;else if(path.isPath(url)){var resolved=path.parseUrl(href);hash=resolved.pathname+resolved.search+(path.isPreservableHash(resolved.hash)?resolved.hash.replace("#",""):"")}else hash=url;return hash},go:function(url,data,noEvents){var state,href,hash,popstateEvent,isPopStateEvent=$.event.special.navigate.isPushStateEnabled();href=path.squash(url),hash=this.hash(url,href),noEvents&&hash!==path.stripHash(path.parseLocation().hash)&&(this.preventNextHashChange=noEvents),this.preventHashAssignPopState=!0,window.location.hash=hash,this.preventHashAssignPopState=!1,state=$.extend({url:href,hash:hash,title:document.title},data),isPopStateEvent&&(popstateEvent=new $.Event("popstate"),popstateEvent.originalEvent={type:"popstate",state:null},this.squash(url,state),noEvents||(this.ignorePopState=!0,$.mobile.window.trigger(popstateEvent))),this.history.add(state.url,state)},popstate:function(event){var hash,state;if($.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void event.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!event.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===initialHref)?void event.preventDefault():(hash=path.parseLocation().hash,!event.originalEvent.state&&hash?(state=this.squash(hash),this.history.add(state.url,state),void(event.historyState=state)):void this.history.direct({url:(event.originalEvent.state||{}).url||hash,present:function(historyEntry,direction){event.historyState=$.extend({},historyEntry),event.historyState.direction=direction}}))},hashchange:function(event){var history,hash;if($.event.special.navigate.isHashChangeEnabled()&&!$.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void event.stopImmediatePropagation();history=this.history,hash=path.parseLocation().hash,this.history.direct({url:hash,present:function(historyEntry,direction){event.hashchangeState=$.extend({},historyEntry),event.hashchangeState.direction=direction},missing:function(){history.add(hash,{hash:hash,title:document.title})}})}}})}(jQuery),function($,undefined){$.mobile.navigate=function(url,data,noEvents){$.mobile.navigate.navigator.go(url,data,noEvents)},$.mobile.navigate.history=new $.mobile.History,$.mobile.navigate.navigator=new $.mobile.Navigator($.mobile.navigate.history);var loc=$.mobile.path.parseLocation();$.mobile.navigate.history.add(loc.href,{hash:loc.hash})}(jQuery),function($,window,document,undefined){function getNativeEvent(event){for(;event&&"undefined"!=typeof event.originalEvent;)event=event.originalEvent;return event}function createVirtualEvent(event,eventType){var oe,props,ne,prop,ct,touch,i,j,len,t=event.type;if(event=$.Event(event),event.type=eventType,oe=event.originalEvent,props=$.event.props,t.search(/^(mouse|click)/)>-1&&(props=mouseEventProps),oe)for(i=props.length,prop;i;)prop=props[--i],event[prop]=oe[prop];if(t.search(/mouse(down|up)|click/)>-1&&!event.which&&(event.which=1),-1!==t.search(/^touch/)&&(ne=getNativeEvent(oe),t=ne.touches,ct=ne.changedTouches,touch=t&&t.length?t[0]:ct&&ct.length?ct[0]:undefined))for(j=0,len=touchEventProps.length;len>j;j++)prop=touchEventProps[j],event[prop]=touch[prop];return event}function getVirtualBindingFlags(element){for(var b,k,flags={};element;){b=$.data(element,dataPropertyName);for(k in b)b[k]&&(flags[k]=flags.hasVirtualBinding=!0);element=element.parentNode}return flags}function getClosestElementWithVirtualBinding(element,eventType){for(var b;element;){if(b=$.data(element,dataPropertyName),b&&(!eventType||b[eventType]))return element;element=element.parentNode}return null}function enableTouchBindings(){blockTouchTriggers=!1}function disableTouchBindings(){blockTouchTriggers=!0}function enableMouseBindings(){lastTouchID=0,clickBlockList.length=0,blockMouseTriggers=!1,disableTouchBindings()}function disableMouseBindings(){enableTouchBindings()}function startResetTimer(){clearResetTimer(),resetTimerID=setTimeout(function(){resetTimerID=0,enableMouseBindings()},$.vmouse.resetTimerDuration)}function clearResetTimer(){resetTimerID&&(clearTimeout(resetTimerID),resetTimerID=0)}function triggerVirtualEvent(eventType,event,flags){var ve;return(flags&&flags[eventType]||!flags&&getClosestElementWithVirtualBinding(event.target,eventType))&&(ve=createVirtualEvent(event,eventType),$(event.target).trigger(ve)),ve}function mouseEventCallback(event){var touchID=$.data(event.target,touchTargetPropertyName);if(!(blockMouseTriggers||lastTouchID&&lastTouchID===touchID)){var ve=triggerVirtualEvent("v"+event.type,event);ve&&(ve.isDefaultPrevented()&&event.preventDefault(),ve.isPropagationStopped()&&event.stopPropagation(),ve.isImmediatePropagationStopped()&&event.stopImmediatePropagation())}}function handleTouchStart(event){var target,flags,touches=getNativeEvent(event).touches;if(touches&&1===touches.length&&(target=event.target,flags=getVirtualBindingFlags(target),flags.hasVirtualBinding)){lastTouchID=nextTouchID++,$.data(target,touchTargetPropertyName,lastTouchID),clearResetTimer(),disableMouseBindings(),didScroll=!1;var t=getNativeEvent(event).touches[0];startX=t.pageX,startY=t.pageY,triggerVirtualEvent("vmouseover",event,flags),triggerVirtualEvent("vmousedown",event,flags)}}function handleScroll(event){blockTouchTriggers||(didScroll||triggerVirtualEvent("vmousecancel",event,getVirtualBindingFlags(event.target)),didScroll=!0,startResetTimer())}function handleTouchMove(event){if(!blockTouchTriggers){var t=getNativeEvent(event).touches[0],didCancel=didScroll,moveThreshold=$.vmouse.moveDistanceThreshold,flags=getVirtualBindingFlags(event.target);didScroll=didScroll||Math.abs(t.pageX-startX)>moveThreshold||Math.abs(t.pageY-startY)>moveThreshold,didScroll&&!didCancel&&triggerVirtualEvent("vmousecancel",event,flags),triggerVirtualEvent("vmousemove",event,flags),startResetTimer()}}function handleTouchEnd(event){if(!blockTouchTriggers){disableTouchBindings();var t,flags=getVirtualBindingFlags(event.target);if(triggerVirtualEvent("vmouseup",event,flags),!didScroll){var ve=triggerVirtualEvent("vclick",event,flags);ve&&ve.isDefaultPrevented()&&(t=getNativeEvent(event).changedTouches[0],clickBlockList.push({touchID:lastTouchID,x:t.clientX,y:t.clientY}),blockMouseTriggers=!0)}triggerVirtualEvent("vmouseout",event,flags),didScroll=!1,startResetTimer()}}function hasVirtualBindings(ele){var k,bindings=$.data(ele,dataPropertyName);if(bindings)for(k in bindings)if(bindings[k])return!0;return!1}function dummyMouseHandler(){}function getSpecialEventObject(eventType){var realType=eventType.substr(1);return{setup:function(data,namespace){hasVirtualBindings(this)||$.data(this,dataPropertyName,{});var bindings=$.data(this,dataPropertyName);bindings[eventType]=!0,activeDocHandlers[eventType]=(activeDocHandlers[eventType]||0)+1,1===activeDocHandlers[eventType]&&$document.bind(realType,mouseEventCallback),$(this).bind(realType,dummyMouseHandler),eventCaptureSupported&&(activeDocHandlers.touchstart=(activeDocHandlers.touchstart||0)+1,1===activeDocHandlers.touchstart&&$document.bind("touchstart",handleTouchStart).bind("touchend",handleTouchEnd).bind("touchmove",handleTouchMove).bind("scroll",handleScroll))},teardown:function(data,namespace){--activeDocHandlers[eventType],activeDocHandlers[eventType]||$document.unbind(realType,mouseEventCallback),eventCaptureSupported&&(--activeDocHandlers.touchstart,activeDocHandlers.touchstart||$document.unbind("touchstart",handleTouchStart).unbind("touchmove",handleTouchMove).unbind("touchend",handleTouchEnd).unbind("scroll",handleScroll));var $this=$(this),bindings=$.data(this,dataPropertyName);bindings&&(bindings[eventType]=!1),$this.unbind(realType,dummyMouseHandler),hasVirtualBindings(this)||$this.removeData(dataPropertyName)}}}var threshold,dataPropertyName="virtualMouseBindings",touchTargetPropertyName="virtualTouchID",virtualEventNames="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),touchEventProps="clientX clientY pageX pageY screenX screenY".split(" "),mouseHookProps=$.event.mouseHooks?$.event.mouseHooks.props:[],mouseEventProps=$.event.props.concat(mouseHookProps),activeDocHandlers={},resetTimerID=0,startX=0,startY=0,didScroll=!1,clickBlockList=[],blockMouseTriggers=!1,blockTouchTriggers=!1,eventCaptureSupported="addEventListener"in document,$document=$(document),nextTouchID=1,lastTouchID=0;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var i=0;i<virtualEventNames.length;i++)$.event.special[virtualEventNames[i]]=getSpecialEventObject(virtualEventNames[i]);eventCaptureSupported&&document.addEventListener("click",function(e){var x,y,ele,i,o,touchID,cnt=clickBlockList.length,target=e.target;if(cnt)for(x=e.clientX,y=e.clientY,threshold=$.vmouse.clickDistanceThreshold,ele=target;ele;){for(i=0;cnt>i;i++)if(o=clickBlockList[i],touchID=0,ele===target&&Math.abs(o.x-x)<threshold&&Math.abs(o.y-y)<threshold||$.data(ele,touchTargetPropertyName)===o.touchID)return e.preventDefault(),void e.stopPropagation();ele=ele.parentNode}},!0)}(jQuery,window,document),function($,window,undefined){function triggerCustomEvent(obj,eventType,event){var originalType=event.type;event.type=eventType,$.event.dispatch.call(obj,event),event.type=originalType}var $document=$(document);$.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)},$.attrFn&&($.attrFn[name]=!0)});var supportTouch=$.mobile.support.touch,scrollEvent="touchmove scroll",touchStartEvent=supportTouch?"touchstart":"mousedown",touchStopEvent=supportTouch?"touchend":"mouseup",touchMoveEvent=supportTouch?"touchmove":"mousemove";$.event.special.scrollstart={enabled:!0,setup:function(){function trigger(event,state){scrolling=state,triggerCustomEvent(thisObject,scrolling?"scrollstart":"scrollstop",event)}var scrolling,timer,thisObject=this,$this=$(thisObject);$this.bind(scrollEvent,function(event){$.event.special.scrollstart.enabled&&(scrolling||trigger(event,!0),clearTimeout(timer),timer=setTimeout(function(){trigger(event,!1)},50))})}},$.event.special.tap={tapholdThreshold:750,setup:function(){var thisObject=this,$this=$(thisObject);$this.bind("vmousedown",function(event){function clearTapTimer(){clearTimeout(timer)}function clearTapHandlers(){clearTapTimer(),$this.unbind("vclick",clickHandler).unbind("vmouseup",clearTapTimer),$document.unbind("vmousecancel",clearTapHandlers)}function clickHandler(event){clearTapHandlers(),origTarget===event.target&&triggerCustomEvent(thisObject,"tap",event)}if(event.which&&1!==event.which)return!1;var timer,origTarget=event.target;event.originalEvent;$this.bind("vmouseup",clearTapTimer).bind("vclick",clickHandler),$document.bind("vmousecancel",clearTapHandlers),timer=setTimeout(function(){triggerCustomEvent(thisObject,"taphold",$.Event("taphold",{target:origTarget}))},$.event.special.tap.tapholdThreshold)})}},$.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;return{time:(new Date).getTime(),coords:[data.pageX,data.pageY],origin:$(event.target)}},stop:function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;return{time:(new Date).getTime(),coords:[data.pageX,data.pageY]}},handleSwipe:function(start,stop){stop.time-start.time<$.event.special.swipe.durationThreshold&&Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(start.coords[1]-stop.coords[1])<$.event.special.swipe.verticalDistanceThreshold&&start.origin.trigger("swipe").trigger(start.coords[0]>stop.coords[0]?"swipeleft":"swiperight")},setup:function(){var thisObject=this,$this=$(thisObject);$this.bind(touchStartEvent,function(event){function moveHandler(event){start&&(stop=$.event.special.swipe.stop(event),Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.scrollSupressionThreshold&&event.preventDefault())}var stop,start=$.event.special.swipe.start(event);$this.bind(touchMoveEvent,moveHandler).one(touchStopEvent,function(){$this.unbind(touchMoveEvent,moveHandler),start&&stop&&$.event.special.swipe.handleSwipe(start,stop),start=stop=undefined})})}},$.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(event,sourceEvent){$.event.special[event]={setup:function(){$(this).bind(sourceEvent,$.noop)}}})}(jQuery,this),function($){$.event.special.throttledresize={setup:function(){$(this).bind("resize",handler)},teardown:function(){$(this).unbind("resize",handler)}};var heldCall,curr,diff,throttle=250,handler=function(){curr=(new Date).getTime(),diff=curr-lastCall,diff>=throttle?(lastCall=curr,$(this).trigger("throttledresize")):(heldCall&&clearTimeout(heldCall),heldCall=setTimeout(handler,throttle-diff))},lastCall=0}(jQuery),function($,window){function handler(){var orientation=get_orientation();orientation!==last_orientation&&(last_orientation=orientation,win.trigger(event_name))}var get_orientation,last_orientation,initial_orientation_is_landscape,initial_orientation_is_default,win=$(window),event_name="orientationchange",portrait_map={0:!0,180:!0};if($.support.orientation){var ww=window.innerWidth||win.width(),wh=window.innerHeight||win.height(),landscape_threshold=50;initial_orientation_is_landscape=ww>wh&&ww-wh>landscape_threshold,initial_orientation_is_default=portrait_map[window.orientation],(initial_orientation_is_landscape&&initial_orientation_is_default||!initial_orientation_is_landscape&&!initial_orientation_is_default)&&(portrait_map={"-90":!0,90:!0})}$.event.special.orientationchange=$.extend({},$.event.special.orientationchange,{setup:function(){return $.support.orientation&&!$.event.special.orientationchange.disabled?!1:(last_orientation=get_orientation(),void win.bind("throttledresize",handler))},teardown:function(){return $.support.orientation&&!$.event.special.orientationchange.disabled?!1:void win.unbind("throttledresize",handler)},add:function(handleObj){var old_handler=handleObj.handler;handleObj.handler=function(event){return event.orientation=get_orientation(),old_handler.apply(this,arguments)}}}),$.event.special.orientationchange.orientation=get_orientation=function(){var isPortrait=!0,elem=document.documentElement;return isPortrait=$.support.orientation?portrait_map[window.orientation]:elem&&elem.clientWidth/elem.clientHeight<1.1,isPortrait?"portrait":"landscape"},$.fn[event_name]=function(fn){return fn?this.bind(event_name,fn):this.trigger(event_name)},$.attrFn&&($.attrFn[event_name]=!0)}(jQuery,this),function($,undefined){$.widget("mobile.page",$.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),void this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}))},_handlePageBeforeShow:function(e){this.setContainerBackground()},removeContainerBackground:function(){$.mobile.pageContainer.removeClass("ui-overlay-"+$.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(theme){this.options.theme&&$.mobile.pageContainer.addClass("ui-overlay-"+(theme||this.options.theme))},keepNativeSelector:function(){var options=this.options,keepNativeDefined=options.keepNative&&$.trim(options.keepNative);return keepNativeDefined&&options.keepNative!==options.keepNativeDefault?[options.keepNative,options.keepNativeDefault].join(", "):options.keepNativeDefault}})}(jQuery),function($,window,undefined){var createHandler=function(sequential){return sequential===undefined&&(sequential=!0),function(name,reverse,$to,$from){var deferred=new $.Deferred,reverseClass=reverse?" reverse":"",active=$.mobile.urlHistory.getActive(),toScroll=active.lastScroll||$.mobile.defaultHomeScroll,screenHeight=$.mobile.getScreenHeight(),maxTransitionOverride=$.mobile.maxTransitionWidth!==!1&&$.mobile.window.width()>$.mobile.maxTransitionWidth,none=!$.support.cssTransitions||maxTransitionOverride||!name||"none"===name||Math.max($.mobile.window.scrollTop(),toScroll)>$.mobile.getMaxScrollForTransition(),toPreClass=" ui-page-pre-in",toggleViewportClass=function(){$.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+name)},scrollPage=function(){$.event.special.scrollstart.enabled=!1,window.scrollTo(0,toScroll),setTimeout(function(){$.event.special.scrollstart.enabled=!0},150)},cleanFrom=function(){$from.removeClass($.mobile.activePageClass+" out in reverse "+name).height("")},startOut=function(){sequential?$from.animationComplete(doneOut):doneOut(),$from.height(screenHeight+$.mobile.window.scrollTop()).addClass(name+" out"+reverseClass)},doneOut=function(){$from&&sequential&&cleanFrom(),startIn()},startIn=function(){$to.css("z-index",-10),$to.addClass($.mobile.activePageClass+toPreClass),$.mobile.focusPage($to),$to.height(screenHeight+toScroll),scrollPage(),$to.css("z-index",""),none||$to.animationComplete(doneIn),$to.removeClass(toPreClass).addClass(name+" in"+reverseClass),none&&doneIn()},doneIn=function(){sequential||$from&&cleanFrom(),$to.removeClass("out in reverse "+name).height(""),toggleViewportClass(),$.mobile.window.scrollTop()!==toScroll&&scrollPage(),deferred.resolve(name,reverse,$to,$from,!0)};return toggleViewportClass(),$from&&!none?startOut():doneOut(),deferred.promise()}},sequentialHandler=createHandler(),simultaneousHandler=createHandler(!1),defaultGetMaxScrollForTransition=function(){return 3*$.mobile.getScreenHeight()};$.mobile.defaultTransitionHandler=sequentialHandler,$.mobile.transitionHandlers={"default":$.mobile.defaultTransitionHandler,sequential:sequentialHandler,simultaneous:simultaneousHandler},$.mobile.transitionFallbacks={},$.mobile._maybeDegradeTransition=function(transition){return transition&&!$.support.cssTransform3d&&$.mobile.transitionFallbacks[transition]&&(transition=$.mobile.transitionFallbacks[transition]),transition},$.mobile.getMaxScrollForTransition=$.mobile.getMaxScrollForTransition||defaultGetMaxScrollForTransition}(jQuery,this),function($,undefined){function removeActiveLinkClass(forceRemoval){!$activeClickedLink||$activeClickedLink.closest("."+$.mobile.activePageClass).length&&!forceRemoval||$activeClickedLink.removeClass($.mobile.activeBtnClass),$activeClickedLink=null}function releasePageTransitionLock(){isPageTransitioning=!1,pageTransitionQueue.length>0&&$.mobile.changePage.apply(null,pageTransitionQueue.pop())}function transitionPages(toPage,fromPage,transition,reverse){fromPage&&fromPage.data("mobile-page")._trigger("beforehide",null,{nextPage:toPage}),toPage.data("mobile-page")._trigger("beforeshow",null,{prevPage:fromPage||$("")}),$.mobile.hidePageLoadingMsg(),transition=$.mobile._maybeDegradeTransition(transition);var th=$.mobile.transitionHandlers[transition||"default"]||$.mobile.defaultTransitionHandler,promise=th(transition,reverse,toPage,fromPage);return promise.done(function(){fromPage&&fromPage.data("mobile-page")._trigger("hide",null,{nextPage:toPage}),toPage.data("mobile-page")._trigger("show",null,{prevPage:fromPage||$("")})}),promise}function enhancePage($page,role){role&&$page.attr("data-"+$.mobile.ns+"role",role),$page.page()}function findBaseWithDefault(){var closestBase=$.mobile.activePage&&getClosestBaseUrl($.mobile.activePage);return closestBase||documentBase.hrefNoHash}function findClosestLink(ele){for(;ele&&("string"!=typeof ele.nodeName||"a"!==ele.nodeName.toLowerCase());)ele=ele.parentNode;return ele}function getClosestBaseUrl(ele){var url=$(ele).closest(".ui-page").jqmData("url"),base=documentBase.hrefNoHash;return url&&path.isPath(url)||(url=base),path.makeUrlAbsolute(url,base)}var $window=$.mobile.window,$head=($("html"),$("head")),path=$.extend($.mobile.path,{getFilePath:function(path){var splitkey="&"+$.mobile.subPageUrlKey;return path&&path.split(splitkey)[0].split(dialogHashKey)[0]},isFirstPageUrl:function(url){var u=path.parseUrl(path.makeUrlAbsolute(url,this.documentBase)),samePath=u.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&u.hrefNoHash===this.documentBase.hrefNoHash,fp=$.mobile.firstPage,fpId=fp&&fp[0]?fp[0].id:undefined;return samePath&&(!u.hash||"#"===u.hash||fpId&&u.hash.replace(/^#/,"")===fpId)},isPermittedCrossDomainRequest:function(docUrl,reqUrl){return $.mobile.allowCrossDomainPages&&"file:"===docUrl.protocol&&-1!==reqUrl.search(/^https?:/)}}),$lastVClicked=null,$activeClickedLink=null,domreadyDeferred=$.Deferred(),urlHistory=$.mobile.navigate.history,pageTransitionQueue=[],isPageTransitioning=!1,dialogHashKey="&ui-state=dialog",$base=$head.children("base"),documentUrl=path.documentUrl,documentBase=path.documentBase,getScreenHeight=(path.documentBaseDiffers,$.mobile.getScreenHeight),base=$.support.dynamicBaseTag?{element:$base.length?$base:$("<base>",{href:documentBase.hrefNoHash}).prependTo($head),set:function(href){href=path.parseUrl(href).hrefNoHash,base.element.attr("href",path.makeUrlAbsolute(href,documentBase))},reset:function(){base.element.attr("href",documentBase.hrefNoSearch)}}:undefined;$.mobile.getDocumentUrl=path.getDocumentUrl,$.mobile.getDocumentBase=path.getDocumentBase,$.mobile.back=function(){var nav=window.navigator;this.phonegapNavigationEnabled&&nav&&nav.app&&nav.app.backHistory?nav.app.backHistory():window.history.back()},$.mobile.focusPage=function(page){var autofocus=page.find("[autofocus]"),pageTitle=page.find(".ui-title:eq(0)");return autofocus.length?void autofocus.focus():void(pageTitle.length?pageTitle.focus():page.focus())};var setLastScroll,delayedSetLastScroll,setLastScrollEnabled=!0;setLastScroll=function(){if(setLastScrollEnabled){var active=$.mobile.urlHistory.getActive();if(active){var lastScroll=$window.scrollTop();active.lastScroll=lastScroll<$.mobile.minScrollBack?$.mobile.defaultHomeScroll:lastScroll}}},delayedSetLastScroll=function(){setTimeout(setLastScroll,100)},$window.bind($.support.pushState?"popstate":"hashchange",function(){setLastScrollEnabled=!1}),$window.one($.support.pushState?"popstate":"hashchange",function(){setLastScrollEnabled=!0}),$window.one("pagecontainercreate",function(){$.mobile.pageContainer.bind("pagechange",function(){setLastScrollEnabled=!0,$window.unbind("scrollstop",delayedSetLastScroll),$window.bind("scrollstop",delayedSetLastScroll)})}),$window.bind("scrollstop",delayedSetLastScroll),$.mobile._maybeDegradeTransition=$.mobile._maybeDegradeTransition||function(transition){return transition},$.mobile.resetActivePageHeight=function(height){var aPage=$("."+$.mobile.activePageClass),aPagePadT=parseFloat(aPage.css("padding-top")),aPagePadB=parseFloat(aPage.css("padding-bottom")),aPageBorderT=parseFloat(aPage.css("border-top-width")),aPageBorderB=parseFloat(aPage.css("border-bottom-width"));height="number"==typeof height?height:getScreenHeight(),aPage.css("min-height",height-aPagePadT-aPagePadB-aPageBorderT-aPageBorderB)},$.fn.animationComplete=function(callback){return $.support.cssTransitions?$(this).one("webkitAnimationEnd animationend",callback):(setTimeout(callback,0),$(this))},$.mobile.path=path,$.mobile.base=base,$.mobile.urlHistory=urlHistory,$.mobile.dialogHashKey=dialogHashKey,$.mobile.allowCrossDomainPages=!1,$.mobile._bindPageRemove=function(){var page=$(this);!page.data("mobile-page").options.domCache&&page.is(":jqmData(external-page='true')")&&page.bind("pagehide.remove",function(e){var $this=$(this),prEvent=new $.Event("pageremove");$this.trigger(prEvent),prEvent.isDefaultPrevented()||$this.removeWithDependents()})},$.mobile.loadPage=function(url,options){var deferred=$.Deferred(),settings=$.extend({},$.mobile.loadPage.defaults,options),page=null,dupCachedPage=null,absUrl=path.makeUrlAbsolute(url,findBaseWithDefault());settings.data&&"get"===settings.type&&(absUrl=path.addSearchParams(absUrl,settings.data),settings.data=undefined),settings.data&&"post"===settings.type&&(settings.reloadPage=!0);var fileUrl=path.getFilePath(absUrl),dataUrl=path.convertUrlToDataUrl(absUrl);if(settings.pageContainer=settings.pageContainer||$.mobile.pageContainer,page=settings.pageContainer.children("[data-"+$.mobile.ns+"url='"+dataUrl+"']"),0===page.length&&dataUrl&&!path.isPath(dataUrl)&&(page=settings.pageContainer.children("#"+dataUrl).attr("data-"+$.mobile.ns+"url",dataUrl).jqmData("url",dataUrl)),0===page.length)if($.mobile.firstPage&&path.isFirstPageUrl(fileUrl))$.mobile.firstPage.parent().length&&(page=$($.mobile.firstPage));else if(path.isEmbeddedPage(fileUrl))return deferred.reject(absUrl,options),deferred.promise();if(page.length){if(!settings.reloadPage)return enhancePage(page,settings.role),deferred.resolve(absUrl,options,page),base&&!options.prefetch&&base.set(url),deferred.promise();dupCachedPage=page}var mpc=settings.pageContainer,pblEvent=new $.Event("pagebeforeload"),triggerData={url:url,absUrl:absUrl,dataUrl:dataUrl,deferred:deferred,options:settings};if(mpc.trigger(pblEvent,triggerData),pblEvent.isDefaultPrevented())return deferred.promise();if(settings.showLoadMsg)var loadMsgDelay=setTimeout(function(){$.mobile.showPageLoadingMsg()},settings.loadMsgDelay),hideMsg=function(){clearTimeout(loadMsgDelay),$.mobile.hidePageLoadingMsg()};return!base||"undefined"!=typeof options&&"undefined"!=typeof options.prefetch||base.reset(),$.mobile.allowCrossDomainPages||path.isSameDomain(documentUrl,absUrl)?$.ajax({url:fileUrl,type:settings.type,data:settings.data,contentType:settings.contentType,dataType:"html",success:function(html,textStatus,xhr){var all=$("<div></div>"),newPageTitle=html.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,pageElemRegex=new RegExp("(<[^>]+\\bdata-"+$.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),dataUrlRegex=new RegExp("\\bdata-"+$.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(pageElemRegex.test(html)&&RegExp.$1&&dataUrlRegex.test(RegExp.$1)&&RegExp.$1&&(url=fileUrl=path.getFilePath($("<div>"+RegExp.$1+"</div>").text())),!base||"undefined"!=typeof options&&"undefined"!=typeof options.prefetch||base.set(fileUrl),all.get(0).innerHTML=html,page=all.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),page.length||(page=$("<div data-"+$.mobile.ns+"role='page'>"+(html.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),newPageTitle&&!page.jqmData("title")&&(~newPageTitle.indexOf("&")&&(newPageTitle=$("<div>"+newPageTitle+"</div>").text()),page.jqmData("title",newPageTitle)),!$.support.dynamicBaseTag){var newPath=path.get(fileUrl);page.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var thisAttr=$(this).is("[href]")?"href":$(this).is("[src]")?"src":"action",thisUrl=$(this).attr(thisAttr);thisUrl=thisUrl.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(thisUrl)||$(this).attr(thisAttr,newPath+thisUrl)})}page.attr("data-"+$.mobile.ns+"url",path.convertUrlToDataUrl(fileUrl)).attr("data-"+$.mobile.ns+"external-page",!0).appendTo(settings.pageContainer),page.one("pagecreate",$.mobile._bindPageRemove),enhancePage(page,settings.role),absUrl.indexOf("&"+$.mobile.subPageUrlKey)>-1&&(page=settings.pageContainer.children("[data-"+$.mobile.ns+"url='"+dataUrl+"']")),settings.showLoadMsg&&hideMsg(),triggerData.xhr=xhr,triggerData.textStatus=textStatus,triggerData.page=page,settings.pageContainer.trigger("pageload",triggerData),deferred.resolve(absUrl,options,page,dupCachedPage)},error:function(xhr,textStatus,errorThrown){base&&base.set(path.get()),triggerData.xhr=xhr,triggerData.textStatus=textStatus,triggerData.errorThrown=errorThrown;var plfEvent=new $.Event("pageloadfailed");settings.pageContainer.trigger(plfEvent,triggerData),plfEvent.isDefaultPrevented()||(settings.showLoadMsg&&(hideMsg(),$.mobile.showPageLoadingMsg($.mobile.pageLoadErrorMessageTheme,$.mobile.pageLoadErrorMessage,!0),setTimeout($.mobile.hidePageLoadingMsg,1500)),deferred.reject(absUrl,options))}}):deferred.reject(absUrl,options),deferred.promise()},$.mobile.loadPage.defaults={type:"get",data:undefined,reloadPage:!1,role:undefined,showLoadMsg:!1,pageContainer:undefined,loadMsgDelay:50},$.mobile.changePage=function(toPage,options){if(isPageTransitioning)return void pageTransitionQueue.unshift(arguments);var isToPageString,settings=$.extend({},$.mobile.changePage.defaults,options);settings.pageContainer=settings.pageContainer||$.mobile.pageContainer,settings.fromPage=settings.fromPage||$.mobile.activePage,isToPageString="string"==typeof toPage;var mpc=settings.pageContainer,pbcEvent=new $.Event("pagebeforechange"),triggerData={toPage:toPage,options:settings};if(isToPageString?triggerData.absUrl=path.makeUrlAbsolute(toPage,findBaseWithDefault()):triggerData.absUrl=toPage.data("absUrl"),mpc.trigger(pbcEvent,triggerData),!pbcEvent.isDefaultPrevented()){if(toPage=triggerData.toPage,isToPageString="string"==typeof toPage,isPageTransitioning=!0,isToPageString)return settings.target=toPage,void $.mobile.loadPage(toPage,settings).done(function(url,options,newPage,dupCachedPage){isPageTransitioning=!1,options.duplicateCachedPage=dupCachedPage,newPage.data("absUrl",triggerData.absUrl),$.mobile.changePage(newPage,options)}).fail(function(url,options){removeActiveLinkClass(!0),releasePageTransitionLock(),settings.pageContainer.trigger("pagechangefailed",triggerData)});toPage[0]!==$.mobile.firstPage[0]||settings.dataUrl||(settings.dataUrl=documentUrl.hrefNoHash);var fromPage=settings.fromPage,url=settings.dataUrl&&path.convertUrlToDataUrl(settings.dataUrl)||toPage.jqmData("url"),pageUrl=url,active=(path.getFilePath(url),
urlHistory.getActive()),activeIsInitialPage=0===urlHistory.activeIndex,historyDir=0,pageTitle=document.title,isDialog="dialog"===settings.role||"dialog"===toPage.jqmData("role");if(fromPage&&fromPage[0]===toPage[0]&&!settings.allowSamePageTransition)return isPageTransitioning=!1,mpc.trigger("pagechange",triggerData),void(settings.fromHashChange&&urlHistory.direct({url:url}));enhancePage(toPage,settings.role),settings.fromHashChange&&(historyDir="back"===options.direction?-1:1);try{document.activeElement&&"body"!==document.activeElement.nodeName.toLowerCase()?$(document.activeElement).blur():$("input:focus, textarea:focus, select:focus").blur()}catch(e){}var alreadyThere=!1;isDialog&&active&&(active.url&&active.url.indexOf(dialogHashKey)>-1&&$.mobile.activePage&&!$.mobile.activePage.is(".ui-dialog")&&urlHistory.activeIndex>0&&(settings.changeHash=!1,alreadyThere=!0),url=active.url||"",url+=!alreadyThere&&url.indexOf("#")>-1?dialogHashKey:"#"+dialogHashKey,0===urlHistory.activeIndex&&url===urlHistory.initialDst&&(url+=dialogHashKey));var newPageTitle=active?toPage.jqmData("title")||toPage.children(":jqmData(role='header')").find(".ui-title").text():pageTitle;if(newPageTitle&&pageTitle===document.title&&(pageTitle=newPageTitle),toPage.jqmData("title")||toPage.jqmData("title",pageTitle),settings.transition=settings.transition||(historyDir&&!activeIsInitialPage?active.transition:undefined)||(isDialog?$.mobile.defaultDialogTransition:$.mobile.defaultPageTransition),!historyDir&&alreadyThere&&(urlHistory.getActive().pageUrl=pageUrl),url&&!settings.fromHashChange){var params;!path.isPath(url)&&url.indexOf("#")<0&&(url="#"+url),params={transition:settings.transition,title:pageTitle,pageUrl:pageUrl,role:settings.role},settings.changeHash!==!1&&$.mobile.hashListeningEnabled?$.mobile.navigate(url,params,!0):toPage[0]!==$.mobile.firstPage[0]&&$.mobile.navigate.history.add(url,params)}document.title=pageTitle,$.mobile.activePage=toPage,settings.reverse=settings.reverse||0>historyDir,transitionPages(toPage,fromPage,settings.transition,settings.reverse).done(function(name,reverse,$to,$from,alreadyFocused){removeActiveLinkClass(),settings.duplicateCachedPage&&settings.duplicateCachedPage.remove(),alreadyFocused||$.mobile.focusPage(toPage),releasePageTransitionLock(),mpc.trigger("pagechange",triggerData)})}},$.mobile.changePage.defaults={transition:undefined,reverse:!1,changeHash:!0,fromHashChange:!1,role:undefined,duplicateCachedPage:undefined,pageContainer:undefined,showLoadMsg:!0,dataUrl:undefined,fromPage:undefined,allowSamePageTransition:!1},$.mobile.navreadyDeferred=$.Deferred(),$.mobile._registerInternalEvents=function(){var getAjaxFormData=function($form,calculateOnly){var url,formData,vclickedName,method,ret=!0;return!$.mobile.ajaxEnabled||$form.is(":jqmData(ajax='false')")||!$form.jqmHijackable().length||$form.attr("target")?!1:(url=$form.attr("action"),method=($form.attr("method")||"get").toLowerCase(),url||(url=getClosestBaseUrl($form),"get"===method&&(url=path.parseUrl(url).hrefNoSearch),url===documentBase.hrefNoHash&&(url=documentUrl.hrefNoSearch)),url=path.makeUrlAbsolute(url,getClosestBaseUrl($form)),path.isExternal(url)&&!path.isPermittedCrossDomainRequest(documentUrl,url)?!1:(calculateOnly||(formData=$form.serializeArray(),$lastVClicked&&$lastVClicked[0].form===$form[0]&&(vclickedName=$lastVClicked.attr("name"),vclickedName&&($.each(formData,function(key,value){return value.name===vclickedName?(vclickedName="",!1):void 0}),vclickedName&&formData.push({name:vclickedName,value:$lastVClicked.attr("value")}))),ret={url:url,options:{type:method,data:$.param(formData),transition:$form.jqmData("transition"),reverse:"reverse"===$form.jqmData("direction"),reloadPage:!0}}),ret))};$.mobile.document.delegate("form","submit",function(event){var formData=getAjaxFormData($(this));formData&&($.mobile.changePage(formData.url,formData.options),event.preventDefault())}),$.mobile.document.bind("vclick",function(event){var $btn,btnEls,target=event.target,needClosest=!1;if(!(event.which>1)&&$.mobile.linkBindingEnabled){if($lastVClicked=$(target),$.data(target,"mobile-button")){if(!getAjaxFormData($(target).closest("form"),!0))return;target.parentNode&&(target=target.parentNode)}else{if(target=findClosestLink(target),!target||"#"===path.parseUrl(target.getAttribute("href")||"#").hash)return;if(!$(target).jqmHijackable().length)return}~target.className.indexOf("ui-link-inherit")?target.parentNode&&(btnEls=$.data(target.parentNode,"buttonElements")):btnEls=$.data(target,"buttonElements"),btnEls?target=btnEls.outer:needClosest=!0,$btn=$(target),needClosest&&($btn=$btn.closest(".ui-btn")),$btn.length>0&&!$btn.hasClass("ui-disabled")&&(removeActiveLinkClass(!0),$activeClickedLink=$btn,$activeClickedLink.addClass($.mobile.activeBtnClass))}}),$.mobile.document.bind("click",function(event){if($.mobile.linkBindingEnabled&&!event.isDefaultPrevented()){var httpCleanup,link=findClosestLink(event.target),$link=$(link);if(link&&!(event.which>1)&&$link.jqmHijackable().length){if(httpCleanup=function(){window.setTimeout(function(){removeActiveLinkClass(!0)},200)},$link.is(":jqmData(rel='back')"))return $.mobile.back(),!1;var baseUrl=getClosestBaseUrl($link),href=path.makeUrlAbsolute($link.attr("href")||"#",baseUrl);if(!$.mobile.ajaxEnabled&&!path.isEmbeddedPage(href))return void httpCleanup();if(-1!==href.search("#")){if(href=href.replace(/[^#]*#/,""),!href)return void event.preventDefault();href=path.isPath(href)?path.makeUrlAbsolute(href,baseUrl):path.makeUrlAbsolute("#"+href,documentUrl.hrefNoHash)}var useDefaultUrlHandling=$link.is("[rel='external']")||$link.is(":jqmData(ajax='false')")||$link.is("[target]"),isExternal=useDefaultUrlHandling||path.isExternal(href)&&!path.isPermittedCrossDomainRequest(documentUrl,href);if(isExternal)return void httpCleanup();var transition=$link.jqmData("transition"),reverse="reverse"===$link.jqmData("direction")||$link.jqmData("back"),role=$link.attr("data-"+$.mobile.ns+"rel")||undefined;$.mobile.changePage(href,{transition:transition,reverse:reverse,role:role,link:$link}),event.preventDefault()}}}),$.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var urls=[];$(this).find("a:jqmData(prefetch)").each(function(){var $link=$(this),url=$link.attr("href");url&&-1===$.inArray(url,urls)&&(urls.push(url),$.mobile.loadPage(url,{role:$link.attr("data-"+$.mobile.ns+"rel"),prefetch:!0}))})}),$.mobile._handleHashChange=function(url,data){var to=path.stripHash(url),transition=0===$.mobile.urlHistory.stack.length?"none":undefined,changePageOptions={changeHash:!1,fromHashChange:!0,reverse:"back"===data.direction};if($.extend(changePageOptions,data,{transition:(urlHistory.getLast()||{}).transition||transition}),urlHistory.activeIndex>0&&to.indexOf(dialogHashKey)>-1&&urlHistory.initialDst!==to){if($.mobile.activePage&&!$.mobile.activePage.is(".ui-dialog"))return void("back"===data.direction?$.mobile.back():window.history.forward());to=data.pageUrl;var active=$.mobile.urlHistory.getActive();$.extend(changePageOptions,{role:active.role,transition:active.transition,reverse:"back"===data.direction})}to?(to=path.isPath(to)?to:path.makeUrlAbsolute("#"+to,documentBase),to===path.makeUrlAbsolute("#"+urlHistory.initialDst,documentBase)&&urlHistory.stack.length&&urlHistory.stack[0].url!==urlHistory.initialDst.replace(dialogHashKey,"")&&(to=$.mobile.firstPage),$.mobile.changePage(to,changePageOptions)):$.mobile.changePage($.mobile.firstPage,changePageOptions)},$window.bind("navigate",function(e,data){var url;e.originalEvent&&e.originalEvent.isDefaultPrevented()||(url=$.event.special.navigate.originalEventName.indexOf("hashchange")>-1?data.state.hash:data.state.url,url||(url=$.mobile.path.parseLocation().hash),url&&"#"!==url&&0!==url.indexOf("#"+$.mobile.path.uiStateKey)||(url=location.href),$.mobile._handleHashChange(url,data.state))}),$.mobile.document.bind("pageshow",$.mobile.resetActivePageHeight),$.mobile.window.bind("throttledresize",$.mobile.resetActivePageHeight)},$(function(){domreadyDeferred.resolve()}),$.when(domreadyDeferred,$.mobile.navreadyDeferred).done(function(){$.mobile._registerInternalEvents()})}(jQuery),function($,window,undefined){$.mobile.transitionFallbacks.flip="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionFallbacks.flow="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionFallbacks.pop="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionHandlers.slide=$.mobile.transitionHandlers.simultaneous,$.mobile.transitionFallbacks.slide="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionFallbacks.slidedown="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionFallbacks.slidefade="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionFallbacks.slideup="fade"}(jQuery,this),function($,window,undefined){$.mobile.transitionFallbacks.turn="fade"}(jQuery,this),function($,undefined){$.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},$.mobile.document.bind("pagecreate create",function(e){var options,page=$.mobile.closestPageData($(e.target));page&&(options=page.options,$(e.target).find("input").not(page.keepNativeSelector()).each(function(){var $this=$(this),type=this.getAttribute("type"),optType=options.degradeInputs[type]||"text";if(options.degradeInputs[type]){var html=$("<div>").html($this.clone()).html(),hasType=html.indexOf(" type=")>-1,findstr=hasType?/\s+type=["']?\w+['"]?/:/\/?>/,repstr=' type="'+optType+'" data-'+$.mobile.ns+'type="'+type+'"'+(hasType?"":">");$this.replaceWith(html.replace(findstr,repstr))}}))})}(jQuery),function($,window,undefined){$.widget("mobile.dialog",$.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_create:function(){var $el=this.element,cornerClass=this.options.corners?" ui-corner-all":"",dialogWrap=$("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+cornerClass});$el.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),$el.wrapInner(dialogWrap),$el.bind("vclick submit",function(event){var active,$target=$(event.target).closest("vclick"===event.type?"a":"form");$target.length&&!$target.jqmData("transition")&&(active=$.mobile.urlHistory.getActive()||{},$target.attr("data-"+$.mobile.ns+"transition",active.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse"))}),this._on($el,{pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),$.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(value){var btn,location,self=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==value&&(location="left"===value?"left":"right",btn=$("<a href='#' class='ui-btn-"+location+"' data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(btn),this._createComplete&&$.fn.buttonMarkup&&btn.buttonMarkup(),this._createComplete=!0,btn.bind("click",function(){self.close()}),this._headerCloseButton=btn)},_setOption:function(key,value){"closeBtn"===key&&this._setCloseBtn(value),this._super(key,value)},close:function(){var idx,dst,hist=$.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,$.mobile.hashListeningEnabled&&hist.activeIndex>0?$.mobile.back():(idx=Math.max(0,hist.activeIndex-1),dst=hist.stack[idx].pageUrl||hist.stack[idx].url,hist.previousIndex=hist.activeIndex,hist.activeIndex=idx,$.mobile.path.isPath(dst)||(dst=$.mobile.path.makeUrlAbsolute("#"+dst)),$.mobile.changePage(dst,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),$.mobile.document.delegate($.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){$.mobile.dialog.prototype.enhance(this)})}(jQuery,this),function($,undefined){$.mobile.page.prototype.options.backBtnText="Back",$.mobile.page.prototype.options.addBackBtn=!1,$.mobile.page.prototype.options.backBtnTheme=null,$.mobile.page.prototype.options.headerTheme="a",$.mobile.page.prototype.options.footerTheme="a",$.mobile.page.prototype.options.contentTheme=null,$.mobile.document.bind("pagecreate",function(e){var $page=$(e.target),o=$page.data("mobile-page").options,pageRole=$page.jqmData("role"),pageTheme=o.theme;$(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",$page).jqmEnhanceable().each(function(){var $headeranchors,leftbtn,rightbtn,backBtn,$this=$(this),role=$this.jqmData("role"),theme=$this.jqmData("theme"),contentTheme=theme||o.contentTheme||"dialog"===pageRole&&pageTheme;if($this.addClass("ui-"+role),"header"===role||"footer"===role){var thisTheme=theme||("header"===role?o.headerTheme:o.footerTheme)||pageTheme;$this.addClass("ui-bar-"+thisTheme).attr("role","header"===role?"banner":"contentinfo"),"header"===role&&($headeranchors=$this.children("a, button"),leftbtn=$headeranchors.hasClass("ui-btn-left"),rightbtn=$headeranchors.hasClass("ui-btn-right"),leftbtn=leftbtn||$headeranchors.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,rightbtn=rightbtn||$headeranchors.eq(1).addClass("ui-btn-right").length),o.addBackBtn&&"header"===role&&$(".ui-page").length>1&&$page.jqmData("url")!==$.mobile.path.stripHash(location.hash)&&!leftbtn&&(backBtn=$("<a href='javascript:void(0);' class='ui-btn-left' data-"+$.mobile.ns+"rel='back' data-"+$.mobile.ns+"icon='arrow-l'>"+o.backBtnText+"</a>").attr("data-"+$.mobile.ns+"theme",o.backBtnTheme||thisTheme).prependTo($this)),$this.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===role&&(contentTheme&&$this.addClass("ui-body-"+contentTheme),$this.attr("role","main"))})})}(jQuery),function($,undefined){function closestEnabledButton(element){for(var cname;element&&(cname="string"==typeof element.className&&element.className+" ",!(cname&&cname.indexOf("ui-btn ")>-1&&cname.indexOf("ui-disabled ")<0));)element=element.parentNode;return element}function updateButtonClass($btn,classToRemove,classToAdd,hover,state){var buttonElements=$.data($btn[0],"buttonElements");$btn.removeClass(classToRemove).addClass(classToAdd),buttonElements&&(buttonElements.bcls=$(document.createElement("div")).addClass(buttonElements.bcls+" "+classToAdd).removeClass(classToRemove).attr("class"),hover!==undefined&&(buttonElements.hover=hover),buttonElements.state=state)}var getAttrFixed=function(e,key){var value=e.getAttribute(key);return"true"===value?!0:"false"===value?!1:null===value?undefined:value};$.fn.buttonMarkup=function(options){var key,$workingSet=this,nsKey="data-"+$.mobile.ns;options=options&&"object"===$.type(options)?options:{};for(var i=0;i<$workingSet.length;i++){var buttonClass,iconClass,buttonInner,buttonText,buttonIcon,buttonElements,el=$workingSet.eq(i),e=el[0],o=$.extend({},$.fn.buttonMarkup.defaults,{icon:options.icon!==undefined?options.icon:getAttrFixed(e,nsKey+"icon"),iconpos:options.iconpos!==undefined?options.iconpos:getAttrFixed(e,nsKey+"iconpos"),theme:options.theme!==undefined?options.theme:getAttrFixed(e,nsKey+"theme")||$.mobile.getInheritedTheme(el,"c"),inline:options.inline!==undefined?options.inline:getAttrFixed(e,nsKey+"inline"),shadow:options.shadow!==undefined?options.shadow:getAttrFixed(e,nsKey+"shadow"),corners:options.corners!==undefined?options.corners:getAttrFixed(e,nsKey+"corners"),iconshadow:options.iconshadow!==undefined?options.iconshadow:getAttrFixed(e,nsKey+"iconshadow"),mini:options.mini!==undefined?options.mini:getAttrFixed(e,nsKey+"mini")},options),innerClass="ui-btn-inner",textClass="ui-btn-text",hover=!1,state="up";for(key in o)o[key]===undefined||null===o[key]?el.removeAttr(nsKey+key):e.setAttribute(nsKey+key,o[key]);for(buttonElements=$.data("INPUT"===e.tagName||"BUTTON"===e.tagName?e.parentNode:e,"buttonElements"),buttonElements?(e=buttonElements.outer,el=$(e),buttonInner=buttonElements.inner,buttonText=buttonElements.text,$(buttonElements.icon).remove(),buttonElements.icon=null,hover=buttonElements.hover,state=buttonElements.state):(buttonInner=document.createElement(o.wrapperEls),buttonText=document.createElement(o.wrapperEls)),buttonIcon=o.icon?document.createElement("span"):null,attachEvents&&!buttonElements&&attachEvents(),o.theme||(o.theme=$.mobile.getInheritedTheme(el,"c")),buttonClass="ui-btn ",buttonClass+=hover?"ui-btn-hover-"+o.theme:"",buttonClass+=state?" ui-btn-"+state+"-"+o.theme:"",buttonClass+=o.shadow?" ui-shadow":"",buttonClass+=o.corners?" ui-btn-corner-all":"",o.mini!==undefined&&(buttonClass+=o.mini===!0?" ui-mini":" ui-fullsize"),o.inline!==undefined&&(buttonClass+=o.inline===!0?" ui-btn-inline":" ui-btn-block"),o.icon&&(o.icon="ui-icon-"+o.icon,o.iconpos=o.iconpos||"left",iconClass="ui-icon "+o.icon,o.iconshadow&&(iconClass+=" ui-icon-shadow")),o.iconpos&&(buttonClass+=" ui-btn-icon-"+o.iconpos,"notext"!==o.iconpos||el.attr("title")||el.attr("title",el.getEncodedText())),buttonElements&&el.removeClass(buttonElements.bcls||""),el.removeClass("ui-link").addClass(buttonClass),buttonInner.className=innerClass,buttonText.className=textClass,buttonElements||buttonInner.appendChild(buttonText),buttonIcon&&(buttonIcon.className=iconClass,buttonElements&&buttonElements.icon||(buttonIcon.innerHTML="&#160;",buttonInner.appendChild(buttonIcon)));e.firstChild&&!buttonElements;)buttonText.appendChild(e.firstChild);buttonElements||e.appendChild(buttonInner),buttonElements={hover:hover,state:state,bcls:buttonClass,outer:e,inner:buttonInner,text:buttonText,icon:buttonIcon},$.data(e,"buttonElements",buttonElements),$.data(buttonInner,"buttonElements",buttonElements),$.data(buttonText,"buttonElements",buttonElements),buttonIcon&&$.data(buttonIcon,"buttonElements",buttonElements)}return this},$.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var attachEvents=function(){var hov,foc,hoverDelay=$.mobile.buttonMarkup.hoverDelay;$.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(event){var theme,$btn=$(closestEnabledButton(event.target)),isTouchEvent=event.originalEvent&&/^touch/.test(event.originalEvent.type),evt=event.type;$btn.length&&(theme=$btn.attr("data-"+$.mobile.ns+"theme"),"vmousedown"===evt?isTouchEvent?hov=setTimeout(function(){updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-down-"+theme,undefined,"down")},hoverDelay):updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-down-"+theme,undefined,"down"):"vmousecancel"===evt||"vmouseup"===evt?updateButtonClass($btn,"ui-btn-down-"+theme,"ui-btn-up-"+theme,undefined,"up"):"vmouseover"===evt||"focus"===evt?isTouchEvent?foc=setTimeout(function(){updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-hover-"+theme,!0,"")},hoverDelay):updateButtonClass($btn,"ui-btn-up-"+theme,"ui-btn-hover-"+theme,!0,""):"vmouseout"!==evt&&"blur"!==evt&&"scrollstart"!==evt||(updateButtonClass($btn,"ui-btn-hover-"+theme+" ui-btn-down-"+theme,"ui-btn-up-"+theme,!1,"up"),hov&&clearTimeout(hov),foc&&clearTimeout(foc)))},"focusin focus":function(event){$(closestEnabledButton(event.target)).addClass($.mobile.focusClass)},"focusout blur":function(event){$(closestEnabledButton(event.target)).removeClass($.mobile.focusClass)}}),attachEvents=null};$.mobile.document.bind("pagecreate create",function(e){$(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",e.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(jQuery),function($,undefined){$.widget("mobile.collapsible",$.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var $el=this.element,o=this.options,collapsible=$el.addClass("ui-collapsible"),collapsibleHeading=$el.children(o.heading).first(),collapsibleContent=collapsible.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),collapsibleSet=$el.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),collapsibleClasses="";collapsibleHeading.is("legend")&&(collapsibleHeading=$("<div role='heading'>"+collapsibleHeading.html()+"</div>").insertBefore(collapsibleHeading),collapsibleHeading.next().remove()),collapsibleSet.length?(o.theme||(o.theme=collapsibleSet.jqmData("theme")||$.mobile.getInheritedTheme(collapsibleSet,"c")),o.contentTheme||(o.contentTheme=collapsibleSet.jqmData("content-theme")),o.collapsedIcon=$el.jqmData("collapsed-icon")||collapsibleSet.jqmData("collapsed-icon")||o.collapsedIcon,o.expandedIcon=$el.jqmData("expanded-icon")||collapsibleSet.jqmData("expanded-icon")||o.expandedIcon,o.iconpos=$el.jqmData("iconpos")||collapsibleSet.jqmData("iconpos")||o.iconpos,collapsibleSet.jqmData("inset")!==undefined?o.inset=collapsibleSet.jqmData("inset"):o.inset=!0,o.corners=!1,o.mini||(o.mini=collapsibleSet.jqmData("mini"))):o.theme||(o.theme=$.mobile.getInheritedTheme($el,"c")),o.inset&&(collapsibleClasses+=" ui-collapsible-inset",o.corners&&(collapsibleClasses+=" ui-corner-all")),o.contentTheme&&(collapsibleClasses+=" ui-collapsible-themed-content",collapsibleContent.addClass("ui-body-"+o.contentTheme)),""!==collapsibleClasses&&collapsible.addClass(collapsibleClasses),collapsibleHeading.insertBefore(collapsibleContent).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:o.iconpos,icon:o.collapsedIcon,mini:o.mini,theme:o.theme}),collapsible.bind("expand collapse",function(event){if(!event.isDefaultPrevented()){var $this=$(this),isCollapse="collapse"===event.type;event.preventDefault(),collapsibleHeading.toggleClass("ui-collapsible-heading-collapsed",isCollapse).find(".ui-collapsible-heading-status").text(isCollapse?o.expandCueText:o.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+o.expandedIcon,!isCollapse).toggleClass("ui-icon-"+o.collapsedIcon,isCollapse||o.expandedIcon===o.collapsedIcon).end().find("a").first().removeClass($.mobile.activeBtnClass),$this.toggleClass("ui-collapsible-collapsed",isCollapse),collapsibleContent.toggleClass("ui-collapsible-content-collapsed",isCollapse).attr("aria-hidden",isCollapse),collapsibleContent.trigger("updatelayout")}}).trigger(o.collapsed?"collapse":"expand"),collapsibleHeading.bind("tap",function(event){collapsibleHeading.find("a").first().addClass($.mobile.activeBtnClass)}).bind("click",function(event){var type=collapsibleHeading.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";collapsible.trigger(type),event.preventDefault(),event.stopPropagation()})}}),$.mobile.document.bind("pagecreate create",function(e){$.mobile.collapsible.prototype.enhanceWithin(e.target)})}(jQuery),function($,undefined){$.mobile.behaviors.addFirstLastClasses={_getVisibles:function($els,create){var visibles;return create?visibles=$els.not(".ui-screen-hidden"):(visibles=$els.filter(":visible"),0===visibles.length&&(visibles=$els.not(".ui-screen-hidden"))),visibles},_addFirstLastClasses:function($els,$visibles,create){$els.removeClass("ui-first-child ui-last-child"),$visibles.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),create||this.element.trigger("updatelayout")}}}(jQuery),function($,undefined){$.widget("mobile.collapsibleset",$.mobile.widget,$.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var $el=this.element.addClass("ui-collapsible-set"),o=this.options;o.theme||(o.theme=$.mobile.getInheritedTheme($el,"c")),o.contentTheme||(o.contentTheme=$el.jqmData("content-theme")),o.corners||(o.corners=$el.jqmData("corners")),$el.jqmData("inset")!==undefined&&(o.inset=$el.jqmData("inset")),o.inset=o.inset!==undefined?o.inset:!0,o.corners=o.corners!==undefined?o.corners:!0,o.corners&&o.inset&&$el.addClass("ui-corner-all"),$el.jqmData("collapsiblebound")||$el.jqmData("collapsiblebound",!0).bind("expand",function(event){var closestCollapsible=$(event.target).closest(".ui-collapsible");closestCollapsible.parent().is(":jqmData(role='collapsible-set')")&&closestCollapsible.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var $el=this.element,collapsiblesInSet=$el.children(":jqmData(role='collapsible')"),expanded=collapsiblesInSet.filter(":jqmData(collapsed='false')");this._refresh("true"),expanded.trigger("expand")},_refresh:function(create){var collapsiblesInSet=this.element.children(":jqmData(role='collapsible')");$.mobile.collapsible.prototype.enhance(collapsiblesInSet.not(".ui-collapsible")),this._addFirstLastClasses(collapsiblesInSet,this._getVisibles(collapsiblesInSet,create),create)},refresh:function(){this._refresh(!1)}},$.mobile.behaviors.addFirstLastClasses)),$.mobile.document.bind("pagecreate create",function(e){$.mobile.collapsibleset.prototype.enhanceWithin(e.target)})}(jQuery),function($,undefined){$.fn.fieldcontain=function(options){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},$(document).bind("pagecreate create",function(e){$(":jqmData(role='fieldcontain')",e.target).jqmEnhanceable().fieldcontain()})}(jQuery),function($,undefined){$.fn.grid=function(options){return this.each(function(){var iterator,$this=$(this),o=$.extend({grid:null},options),$kids=$this.children(),gridCols={solo:1,a:2,b:3,c:4,d:5},grid=o.grid;if(!grid)if($kids.length<=5)for(var letter in gridCols)gridCols[letter]===$kids.length&&(grid=letter);else grid="a",$this.addClass("ui-grid-duo");iterator=gridCols[grid],$this.addClass("ui-grid-"+grid),$kids.filter(":nth-child("+iterator+"n+1)").addClass("ui-block-a"),iterator>1&&$kids.filter(":nth-child("+iterator+"n+2)").addClass("ui-block-b"),iterator>2&&$kids.filter(":nth-child("+iterator+"n+3)").addClass("ui-block-c"),iterator>3&&$kids.filter(":nth-child("+iterator+"n+4)").addClass("ui-block-d"),iterator>4&&$kids.filter(":nth-child("+iterator+"n+5)").addClass("ui-block-e")})}}(jQuery),function($,undefined){$.widget("mobile.navbar",$.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var $navbar=this.element,$navbtns=$navbar.find("a"),iconpos=$navbtns.filter(":jqmData(icon)").length?this.options.iconpos:undefined;$navbar.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),$navbtns.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:iconpos}),$navbar.delegate("a","vclick",function(event){var target=$(event.target).is("a")?$(this):$(this).parent("a");if(!target.is(".ui-disabled, .ui-btn-active")){$navbtns.removeClass($.mobile.activeBtnClass),$(this).addClass($.mobile.activeBtnClass);var activeBtn=$(this);$(document).one("pagehide",function(){activeBtn.removeClass($.mobile.activeBtnClass)})}}),$navbar.closest(".ui-page").bind("pagebeforeshow",function(){$navbtns.filter(".ui-state-persist").addClass($.mobile.activeBtnClass)})}}),$.mobile.document.bind("pagecreate create",function(e){$.mobile.navbar.prototype.enhanceWithin(e.target)})}(jQuery),function($,undefined){var listCountPerPage={};$.widget("mobile.listview",$.mobile.widget,$.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var t=this,listviewClasses="";listviewClasses+=t.options.inset?" ui-listview-inset":"",t.options.inset&&(listviewClasses+=t.options.corners?" ui-corner-all":"",listviewClasses+=t.options.shadow?" ui-shadow":""),t.element.addClass(function(i,orig){return orig+" ui-listview"+listviewClasses}),t.refresh(!0)},_findFirstElementByTagName:function(ele,nextProp,lcName,ucName){var dict={};for(dict[lcName]=dict[ucName]=!0;ele;){if(dict[ele.nodeName])return ele;ele=ele[nextProp]}return null},_getChildrenByTagName:function(ele,lcName,ucName){var results=[],dict={};for(dict[lcName]=dict[ucName]=!0,ele=ele.firstChild;ele;)dict[ele.nodeName]&&results.push(ele),ele=ele.nextSibling;return $(results)},_addThumbClasses:function(containers){var i,img,len=containers.length;for(i=0;len>i;i++)img=$(this._findFirstElementByTagName(containers[i].firstChild,"nextSibling","img","IMG")),img.length&&(img.addClass("ui-li-thumb"),$(this._findFirstElementByTagName(img[0].parentNode,"parentNode","li","LI")).addClass(img.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(create){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var item,itemClass,itemTheme,a,last,splittheme,counter,startCount,newStartCount,countParent,icon,linkIcon,o=this.options,$list=this.element,dividertheme=$list.jqmData("dividertheme")||o.dividerTheme,listsplittheme=$list.jqmData("splittheme"),listspliticon=$list.jqmData("spliticon"),listicon=$list.jqmData("icon"),li=this._getChildrenByTagName($list[0],"li","LI"),ol=!!$.nodeName($list[0],"ol"),jsCount=!$.support.cssPseudoElement,start=$list.attr("start"),itemClassDict={};ol&&jsCount&&$list.find(".ui-li-dec").remove(),ol&&(start||0===start?jsCount?counter=parseInt(start,10):(startCount=parseInt(start,10)-1,$list.css("counter-reset","listnumbering "+startCount)):jsCount&&(counter=1)),o.theme||(o.theme=$.mobile.getInheritedTheme(this.element,"c"));for(var pos=0,numli=li.length;numli>pos;pos++){if(item=li.eq(pos),itemClass="ui-li",create||!item.hasClass("ui-li")){itemTheme=item.jqmData("theme")||o.theme,a=this._getChildrenByTagName(item[0],"a","A");var isDivider="list-divider"===item.jqmData("role");a.length&&!isDivider?(icon=item.jqmData("icon"),item.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:a.length>1||icon===!1?!1:icon||listicon||o.icon,theme:itemTheme}),icon!==!1&&1===a.length&&item.addClass("ui-li-has-arrow"),a.first().removeClass("ui-link").addClass("ui-link-inherit"),a.length>1&&(itemClass+=" ui-li-has-alt",last=a.last(),splittheme=listsplittheme||last.jqmData("theme")||o.splitTheme,linkIcon=last.jqmData("icon"),last.appendTo(item).attr("title",$.trim(last.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:itemTheme,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append($(document.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:splittheme,iconpos:"notext",icon:linkIcon||icon||listspliticon||o.splitIcon})))):isDivider?(itemClass+=" ui-li-divider ui-bar-"+(item.jqmData("theme")||dividertheme),item.attr("role","heading"),ol&&(start||0===start?jsCount?counter=parseInt(start,10):(newStartCount=parseInt(start,10)-1,item.css("counter-reset","listnumbering "+newStartCount)):jsCount&&(counter=1))):itemClass+=" ui-li-static ui-btn-up-"+itemTheme}ol&&jsCount&&itemClass.indexOf("ui-li-divider")<0&&(countParent=itemClass.indexOf("ui-li-static")>0?item:item.find(".ui-link-inherit"),countParent.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+counter++ +". </span>")),itemClassDict[itemClass]||(itemClassDict[itemClass]=[]),itemClassDict[itemClass].push(item[0])}for(itemClass in itemClassDict)$(itemClassDict[itemClass]).addClass(itemClass).children(".ui-btn-inner").addClass(itemClass);$list.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){
var $this=$(this);$this.prependTo($this.parent())}).end().find(".ui-li-count").each(function(){$(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+($list.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(li),this._addThumbClasses($list.find(".ui-link-inherit")),this._addFirstLastClasses(li,this._getVisibles(li,create),create),this._trigger("afterrefresh")},_idStringEscape:function(str){return str.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var hasSubPages,parentList=this.element,parentPage=parentList.closest(".ui-page"),parentUrl=parentPage.jqmData("url"),parentId=parentUrl||parentPage[0][$.expando],parentListId=parentList.attr("id"),o=this.options,dns="data-"+$.mobile.ns,self=this,persistentFooterID=parentPage.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof listCountPerPage[parentId]&&(listCountPerPage[parentId]=-1),parentListId=parentListId||++listCountPerPage[parentId],$(parentList.find("li>ul, li>ol").toArray().reverse()).each(function(i){var newPage,anchor,list=$(this),listId=list.attr("id")||parentListId+"-"+i,parent=list.parent(),nodeElsFull=$(list.prevAll().toArray().reverse()),nodeEls=nodeElsFull.length?nodeElsFull:$("<span>"+$.trim(parent.contents()[0].nodeValue)+"</span>"),title=nodeEls.first().getEncodedText(),id=(parentUrl||"")+"&"+$.mobile.subPageUrlKey+"="+listId,theme=list.jqmData("theme")||o.theme,countTheme=list.jqmData("counttheme")||parentList.jqmData("counttheme")||o.countTheme;hasSubPages=!0,newPage=list.detach().wrap("<div "+dns+"role='page' "+dns+"url='"+id+"' "+dns+"theme='"+theme+"' "+dns+"count-theme='"+countTheme+"'><div "+dns+"role='content'></div></div>").parent().before("<div "+dns+"role='header' "+dns+"theme='"+o.headerTheme+"'><div class='ui-title'>"+title+"</div></div>").after(persistentFooterID?$("<div "+dns+"role='footer' "+dns+"id='"+persistentFooterID+"'>"):"").parent().appendTo($.mobile.pageContainer),newPage.page(),anchor=parent.find("a:first"),anchor.length||(anchor=$("<a/>").html(nodeEls||title).prependTo(parent.empty())),anchor.attr("href","#"+id)}).listview(),hasSubPages&&parentPage.is(":jqmData(external-page='true')")&&parentPage.data("mobile-page").options.domCache===!1){var newRemove=function(e,ui){var npURL,nextPage=ui.nextPage,prEvent=new $.Event("pageremove");ui.nextPage&&(npURL=nextPage.jqmData("url"),0!==npURL.indexOf(parentUrl+"&"+$.mobile.subPageUrlKey)&&(self.childPages().remove(),parentPage.trigger(prEvent),prEvent.isDefaultPrevented()||parentPage.removeWithDependents()))};parentPage.unbind("pagehide.remove").bind("pagehide.remove",newRemove)}},childPages:function(){var parentUrl=this.parentPage.jqmData("url");return $(":jqmData(url^='"+parentUrl+"&"+$.mobile.subPageUrlKey+"')")}},$.mobile.behaviors.addFirstLastClasses)),$.mobile.document.bind("pagecreate create",function(e){$.mobile.listview.prototype.enhanceWithin(e.target)})}(jQuery),function($){var meta=$("meta[name=viewport]"),initialContent=meta.attr("content"),disabledZoom=initialContent+",maximum-scale=1, user-scalable=no",enabledZoom=initialContent+",maximum-scale=10, user-scalable=yes",disabledInitially=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(initialContent);$.mobile.zoom=$.extend({},{enabled:!disabledInitially,locked:!1,disable:function(lock){disabledInitially||$.mobile.zoom.locked||(meta.attr("content",disabledZoom),$.mobile.zoom.enabled=!1,$.mobile.zoom.locked=lock||!1)},enable:function(unlock){disabledInitially||$.mobile.zoom.locked&&unlock!==!0||(meta.attr("content",enabledZoom),$.mobile.zoom.enabled=!0,$.mobile.zoom.locked=!1)},restore:function(){disabledInitially||(meta.attr("content",initialContent),$.mobile.zoom.enabled=!0)}})}(jQuery),function($,undefined){$.widget("mobile.textinput",$.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function toggleClear(){setTimeout(function(){clearbtn.toggleClass("ui-input-clear-hidden",!input.val())},0)}var focusedEl,clearbtn,self=this,input=this.element,o=this.options,theme=o.theme||$.mobile.getInheritedTheme(this.element,"c"),themeclass=" ui-body-"+theme,miniclass=o.mini?" ui-mini":"",isSearch=input.is("[type='search'], :jqmData(type='search')"),clearBtnText=o.clearSearchButtonText||o.clearBtnText,clearBtnBlacklist=input.is("textarea, :jqmData(type='range')"),inputNeedsClearBtn=!!o.clearBtn&&!clearBtnBlacklist,inputNeedsWrap=input.is("input")&&!input.is(":jqmData(type='range')");if($("label[for='"+input.attr("id")+"']").addClass("ui-input-text"),focusedEl=input.addClass("ui-input-text ui-body-"+theme),"undefined"==typeof input[0].autocorrect||$.support.touchOverflow||(input[0].setAttribute("autocorrect","off"),input[0].setAttribute("autocomplete","off")),isSearch?focusedEl=input.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+themeclass+miniclass+"'></div>").parent():inputNeedsWrap&&(focusedEl=input.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+themeclass+miniclass+"'></div>").parent()),inputNeedsClearBtn||isSearch?(clearbtn=$("<a href='#' class='ui-input-clear' title='"+clearBtnText+"'>"+clearBtnText+"</a>").bind("click",function(event){input.val("").focus().trigger("change"),clearbtn.addClass("ui-input-clear-hidden"),event.preventDefault()}).appendTo(focusedEl).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:o.mini}),isSearch||focusedEl.addClass("ui-input-has-clear"),toggleClear(),input.bind("paste cut keyup input focus change blur",toggleClear)):inputNeedsWrap||isSearch||input.addClass("ui-corner-all ui-shadow-inset"+themeclass+miniclass),input.focus(function(){o.preventFocusZoom&&$.mobile.zoom.disable(!0),focusedEl.addClass($.mobile.focusClass)}).blur(function(){focusedEl.removeClass($.mobile.focusClass),o.preventFocusZoom&&$.mobile.zoom.enable(!0)}),input.is("textarea")){var keyupTimeout,extraLineHeight=15,keyupTimeoutBuffer=100;this._keyup=function(){var scrollHeight=input[0].scrollHeight,clientHeight=input[0].clientHeight;if(scrollHeight>clientHeight){var paddingTop=parseFloat(input.css("padding-top")),paddingBottom=parseFloat(input.css("padding-bottom")),paddingHeight=paddingTop+paddingBottom;input.height(scrollHeight-paddingHeight+extraLineHeight)}},input.on("keyup change input paste",function(){clearTimeout(keyupTimeout),keyupTimeout=setTimeout(self._keyup,keyupTimeoutBuffer)}),this._on(!0,$.mobile.document,{pagechange:"_keyup"}),$.trim(input.val())&&this._on(!0,$.mobile.window,{load:"_keyup"})}input.attr("disabled")&&this.disable()},disable:function(){var $el,isSearch=this.element.is("[type='search'], :jqmData(type='search')"),inputNeedsWrap=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),parentNeedsDisabled=this.element.attr("disabled",!0)&&(inputNeedsWrap||isSearch);return $el=parentNeedsDisabled?this.element.parent():this.element,$el.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var $el,isSearch=this.element.is("[type='search'], :jqmData(type='search')"),inputNeedsWrap=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),parentNeedsEnabled=this.element.attr("disabled",!1)&&(inputNeedsWrap||isSearch);return $el=parentNeedsEnabled?this.element.parent():this.element,$el.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),$.mobile.document.bind("pagecreate create",function(e){$.mobile.textinput.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){$.mobile.listview.prototype.options.filter=!1,$.mobile.listview.prototype.options.filterPlaceholder="Filter items...",$.mobile.listview.prototype.options.filterTheme="c",$.mobile.listview.prototype.options.filterReveal=!1;var defaultFilterCallback=function(text,searchValue,item){return-1===text.toString().toLowerCase().indexOf(searchValue)};$.mobile.listview.prototype.options.filterCallback=defaultFilterCallback,$.mobile.document.delegate("ul, ol","listviewcreate",function(){var list=$(this),listview=list.data("mobile-listview");if(listview&&listview.options.filter){listview.options.filterReveal&&list.children().addClass("ui-screen-hidden");var wrapper=$("<form>",{"class":"ui-listview-filter ui-bar-"+listview.options.filterTheme,role:"search"}).submit(function(e){e.preventDefault(),search.blur()}),onKeyUp=function(e){var item,$this=$(this),val=this.value.toLowerCase(),listItems=null,li=list.children(),lastval=$this.jqmData("lastval")+"",childItems=!1,itemtext="",isCustomFilterCallback=listview.options.filterCallback!==defaultFilterCallback;if(!lastval||lastval!==val){if(listview._trigger("beforefilter","beforefilter",{input:this}),$this.jqmData("lastval",val),isCustomFilterCallback||val.length<lastval.length||0!==val.indexOf(lastval)?listItems=list.children():(listItems=list.children(":not(.ui-screen-hidden)"),!listItems.length&&listview.options.filterReveal&&(listItems=list.children(".ui-screen-hidden"))),val){for(var i=listItems.length-1;i>=0;i--)item=$(listItems[i]),itemtext=item.jqmData("filtertext")||item.text(),item.is("li:jqmData(role=list-divider)")?(item.toggleClass("ui-filter-hidequeue",!childItems),childItems=!1):listview.options.filterCallback(itemtext,val,item)?item.toggleClass("ui-filter-hidequeue",!0):childItems=!0;listItems.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),listItems.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else listItems.toggleClass("ui-screen-hidden",!!listview.options.filterReveal);listview._addFirstLastClasses(li,listview._getVisibles(li,!1),!1)}},search=$("<input>",{placeholder:listview.options.filterPlaceholder}).attr("data-"+$.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",onKeyUp).appendTo(wrapper).textinput();listview.options.inset&&wrapper.addClass("ui-listview-filter-inset"),wrapper.bind("submit",function(){return!1}).insertBefore(list)}})}(jQuery),function($,undefined){$.mobile.listview.prototype.options.autodividers=!1,$.mobile.listview.prototype.options.autodividersSelector=function(elt){var text=$.trim(elt.text())||null;return text?text=text.slice(0,1).toUpperCase():null},$.mobile.document.delegate("ul,ol","listviewcreate",function(){var list=$(this),listview=list.data("mobile-listview");if(listview&&listview.options.autodividers){var replaceDividers=function(){list.find("li:jqmData(role='list-divider')").remove();for(var li,dividerText,lis=list.find("li"),lastDividerText=null,i=0;i<lis.length;i++){if(li=lis[i],dividerText=listview.options.autodividersSelector($(li)),dividerText&&lastDividerText!==dividerText){var divider=document.createElement("li");divider.appendChild(document.createTextNode(dividerText)),divider.setAttribute("data-"+$.mobile.ns+"role","list-divider"),li.parentNode.insertBefore(divider,li)}lastDividerText=dividerText}},afterListviewRefresh=function(){list.unbind("listviewafterrefresh",afterListviewRefresh),replaceDividers(),listview.refresh(),list.bind("listviewafterrefresh",afterListviewRefresh)};afterListviewRefresh()}})}(jQuery),function($,undefined){$(document).bind("pagecreate create",function(e){$(":jqmData(role='nojs')",e.target).addClass("ui-nojs")})}(jQuery),function($,undefined){$.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(jQuery),function($,undefined){$.widget("mobile.checkboxradio",$.mobile.widget,$.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var self=this,input=this.element,o=this.options,inheritAttr=function(input,dataAttr){return input.jqmData(dataAttr)||input.closest("form, fieldset").jqmData(dataAttr)},parentLabel=$(input).closest("label"),label=parentLabel.length?parentLabel:$(input).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+input[0].id+"']").first(),inputtype=input[0].type,mini=inheritAttr(input,"mini")||o.mini,checkedState=inputtype+"-on",uncheckedState=inputtype+"-off",iconpos=inheritAttr(input,"iconpos"),checkedClass="ui-"+checkedState,uncheckedClass="ui-"+uncheckedState;if("checkbox"===inputtype||"radio"===inputtype){$.extend(this,{label:label,inputtype:inputtype,checkedClass:checkedClass,uncheckedClass:uncheckedClass,checkedicon:checkedState,uncheckedicon:uncheckedState}),o.theme||(o.theme=$.mobile.getInheritedTheme(this.element,"c")),label.buttonMarkup({theme:o.theme,icon:uncheckedState,shadow:!1,mini:mini,iconpos:iconpos});var wrapper=document.createElement("div");wrapper.className="ui-"+inputtype,input.add(label).wrapAll(wrapper),label.bind({vmouseover:function(event){$(this).parent().is(".ui-disabled")&&event.stopPropagation()},vclick:function(event){return input.is(":disabled")?void event.preventDefault():(self._cacheVals(),input.prop("checked","radio"===inputtype&&!0||!input.prop("checked")),input.triggerHandler("click"),self._getInputSet().not(input).prop("checked",!1),self._updateAll(),!1)}}),input.bind({vmousedown:function(){self._cacheVals()},vclick:function(){var $this=$(this);$this.is(":checked")?($this.prop("checked",!0),self._getInputSet().not($this).prop("checked",!1)):$this.prop("checked",!1),self._updateAll()},focus:function(){label.addClass($.mobile.focusClass)},blur:function(){label.removeClass($.mobile.focusClass)}}),this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){$(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var self=this;this._getInputSet().each(function(){var $this=$(this);(this.checked||"checkbox"===self.inputtype)&&$this.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var input=this.element[0],active=" "+$.mobile.activeBtnClass,checkedClass=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?active:""),label=this.label;input.checked?label.removeClass(this.uncheckedClass+active).addClass(checkedClass).buttonMarkup({icon:this.checkedicon}):label.removeClass(checkedClass).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),input.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},$.mobile.behaviors.formReset)),$.mobile.document.bind("pagecreate create",function(e){$.mobile.checkboxradio.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){$.widget("mobile.button",$.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var $button,$el=this.element,o=function(tdo){var key,ret={};for(key in tdo)null!==tdo[key]&&"initSelector"!==key&&(ret[key]=tdo[key]);return ret}(this.options),classes="";return"A"===$el[0].tagName?void($el.hasClass("ui-btn")||$el.buttonMarkup()):(this.options.theme||(this.options.theme=$.mobile.getInheritedTheme(this.element,"c")),~$el[0].className.indexOf("ui-btn-left")&&(classes="ui-btn-left"),~$el[0].className.indexOf("ui-btn-right")&&(classes="ui-btn-right"),"submit"!==$el.attr("type")&&"reset"!==$el.attr("type")||(classes?classes+=" ui-submit":classes="ui-submit"),$("label[for='"+$el.attr("id")+"']").addClass("ui-submit"),this.button=$("<div></div>")[$el.html()?"html":"text"]($el.html()||$el.val()).insertBefore($el).buttonMarkup(o).addClass(classes).append($el.addClass("ui-btn-hidden")),$button=this.button,$el.bind({focus:function(){$button.addClass($.mobile.focusClass)},blur:function(){$button.removeClass($.mobile.focusClass)}}),void this.refresh())},_setOption:function(key,value){var op={};op[key]=value,"initSelector"!==key&&(this.button.buttonMarkup(op),this.element.attr("data-"+($.mobile.ns||"")+key.replace(/([A-Z])/,"-$1").toLowerCase(),value)),this._super("_setOption",key,value)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var $el=this.element;$el.prop("disabled")?this.disable():this.enable(),$(this.button.data("buttonElements").text)[$el.html()?"html":"text"]($el.html()||$el.val())}}),$.mobile.document.bind("pagecreate create",function(e){$.mobile.button.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){$.widget("mobile.slider",$.mobile.widget,$.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var options,wrapper,self=this,control=this.element,parentTheme=$.mobile.getInheritedTheme(control,"c"),theme=this.options.theme||parentTheme,trackTheme=this.options.trackTheme||parentTheme,cType=control[0].nodeName.toLowerCase(),isRangeslider=(this.isToggleSwitch="select"===cType,control.parent().is(":jqmData(role='rangeslider')")),selectClass=this.isToggleSwitch?"ui-slider-switch":"",controlID=control.attr("id"),$label=$("[for='"+controlID+"']"),labelID=$label.attr("id")||controlID+"-label",label=$label.attr("id",labelID),min=this.isToggleSwitch?0:parseFloat(control.attr("min")),max=this.isToggleSwitch?control.find("option").length-1:parseFloat(control.attr("max")),step=window.parseFloat(control.attr("step")||1),miniClass=this.options.mini||control.jqmData("mini")?" ui-mini":"",domHandle=document.createElement("a"),handle=$(domHandle),domSlider=document.createElement("div"),slider=$(domSlider),valuebg=this.options.highlight&&!this.isToggleSwitch?function(){var bg=document.createElement("div");return bg.className="ui-slider-bg "+$.mobile.activeBtnClass+" ui-btn-corner-all",$(bg).prependTo(slider)}():!1;if(domHandle.setAttribute("href","#"),domSlider.setAttribute("role","application"),domSlider.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",selectClass," ui-btn-down-",trackTheme," ui-btn-corner-all",miniClass].join(""),domHandle.className="ui-slider-handle",domSlider.appendChild(domHandle),handle.buttonMarkup({corners:!0,theme:theme,shadow:!0}).attr({role:"slider","aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":labelID}),$.extend(this,{slider:slider,handle:handle,type:cType,step:step,max:max,min:min,valuebg:valuebg,isRangeslider:isRangeslider,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){wrapper=document.createElement("div"),wrapper.className="ui-slider-inneroffset";for(var j=0,length=domSlider.childNodes.length;length>j;j++)wrapper.appendChild(domSlider.childNodes[j]);domSlider.appendChild(wrapper),handle.addClass("ui-slider-handle-snapping"),options=control.find("option");for(var i=0,optionsCount=options.length;optionsCount>i;i++){var side=i?"a":"b",sliderTheme=i?" "+$.mobile.activeBtnClass:" ui-btn-down-"+trackTheme,sliderImg=(document.createElement("div"),document.createElement("span"));sliderImg.className=["ui-slider-label ui-slider-label-",side,sliderTheme," ui-btn-corner-all"].join(""),sliderImg.setAttribute("role","img"),sliderImg.appendChild(document.createTextNode(options[i].innerHTML)),$(sliderImg).prependTo(slider)}self._labels=$(".ui-slider-label",slider)}label.addClass("ui-slider"),control.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(control,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),slider.bind("vmousedown",$.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(document,{vmousemove:"_preventDocumentDrag"}),this._on(slider.add(document),{vmouseup:"_sliderVMouseUp"}),slider.insertAfter(control),this.isToggleSwitch||isRangeslider||(wrapper=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",control.add(slider).wrapAll(wrapper)),this.isToggleSwitch&&this.handle.bind({focus:function(){slider.addClass($.mobile.focusClass)},blur:function(){slider.removeClass($.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(undefined,undefined,!0)},_controlChange:function(event){return this._trigger("controlchange",event)===!1?!1:void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(event){this.refresh(this._value(),!0,!0)},_controlBlur:function(event){this.refresh(this._value(),!0)},_controlVMouseUp:function(event){this._checkedRefresh()},_handleVMouseDown:function(event){this.handle.focus()},_handleKeydown:function(event){var index=this._value();if(!this.options.disabled){switch(event.keyCode){case $.mobile.keyCode.HOME:case $.mobile.keyCode.END:case $.mobile.keyCode.PAGE_UP:case $.mobile.keyCode.PAGE_DOWN:case $.mobile.keyCode.UP:case $.mobile.keyCode.RIGHT:case $.mobile.keyCode.DOWN:case $.mobile.keyCode.LEFT:event.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(event.keyCode){case $.mobile.keyCode.HOME:this.refresh(this.min);break;case $.mobile.keyCode.END:this.refresh(this.max);break;case $.mobile.keyCode.PAGE_UP:case $.mobile.keyCode.UP:case $.mobile.keyCode.RIGHT:this.refresh(index+this.step);break;case $.mobile.keyCode.PAGE_DOWN:case $.mobile.keyCode.DOWN:case $.mobile.keyCode.LEFT:this.refresh(index-this.step)}}},_handleKeyup:function(event){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(event){return this.options.disabled||1!==event.which&&0!==event.which&&event.which!==undefined?!1:this._trigger("beforestart",event)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(event),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(event){return this._trigger("drag",event)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(event),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(undefined,!1,!0)},refresh:function(val,isfromControl,preventInputUpdate){var left,width,data,tol,self=this,parentTheme=$.mobile.getInheritedTheme(this.element,"c"),theme=this.options.theme||parentTheme,trackTheme=this.options.trackTheme||parentTheme;self.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+trackTheme," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var bg=document.createElement("div");return bg.className="ui-slider-bg "+$.mobile.activeBtnClass+" ui-btn-corner-all",$(bg).prependTo(self.slider)}()),this.handle.buttonMarkup({corners:!0,theme:theme,shadow:!0});var pxStep,percent,control=this.element,isInput=!this.isToggleSwitch,optionElements=isInput?[]:control.find("option"),min=isInput?parseFloat(control.attr("min")):0,max=isInput?parseFloat(control.attr("max")):optionElements.length-1,step=isInput&&parseFloat(control.attr("step"))>0?parseFloat(control.attr("step")):1;if("object"==typeof val){if(data=val,tol=8,left=this.slider.offset().left,width=this.slider.width(),pxStep=width/((max-min)/step),!this.dragging||data.pageX<left-tol||data.pageX>left+width+tol)return;percent=pxStep>1?(data.pageX-left)/width*100:Math.round((data.pageX-left)/width*100)}else null==val&&(val=isInput?parseFloat(control.val()||0):control[0].selectedIndex),percent=(parseFloat(val)-min)/(max-min)*100;if(!isNaN(percent)){var newval=percent/100*(max-min)+min,valModStep=(newval-min)%step,alignValue=newval-valModStep;2*Math.abs(valModStep)>=step&&(alignValue+=valModStep>0?step:-step);var percentPerStep=100/((max-min)/step);if(newval=parseFloat(alignValue.toFixed(5)),"undefined"==typeof pxStep&&(pxStep=width/((max-min)/step)),pxStep>1&&isInput&&(percent=(newval-min)*percentPerStep*(1/step)),0>percent&&(percent=0),percent>100&&(percent=100),min>newval&&(newval=min),newval>max&&(newval=max),this.handle.css("left",percent+"%"),this.handle[0].setAttribute("aria-valuenow",isInput?newval:optionElements.eq(newval).attr("value")),this.handle[0].setAttribute("aria-valuetext",isInput?newval:optionElements.eq(newval).getEncodedText()),this.handle[0].setAttribute("title",isInput?newval:optionElements.eq(newval).getEncodedText()),this.valuebg&&this.valuebg.css("width",percent+"%"),this._labels){var handlePercent=this.handle.width()/this.slider.width()*100,aPercent=percent&&handlePercent+(100-handlePercent)*percent/100,bPercent=100===percent?0:Math.min(handlePercent+100-aPercent,100);this._labels.each(function(){var ab=$(this).is(".ui-slider-label-a");$(this).width((ab?aPercent:bPercent)+"%")})}if(!preventInputUpdate){var valueChanged=!1;if(isInput?(valueChanged=control.val()!==newval,control.val(newval)):(valueChanged=control[0].selectedIndex!==newval,control[0].selectedIndex=newval),this._trigger("beforechange",val)===!1)return!1;!isfromControl&&valueChanged&&control.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},$.mobile.behaviors.formReset)),$.mobile.document.bind("pagecreate create",function(e){$.mobile.slider.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){$.widget("mobile.rangeslider",$.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var secondLabel,$el=this.element,elClass=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",_inputFirst=$el.find("input").first(),_inputLast=$el.find("input").last(),label=$el.find("label").first(),_sliderFirst=$.data(_inputFirst.get(0),"mobileSlider").slider,_sliderLast=$.data(_inputLast.get(0),"mobileSlider").slider,firstHandle=$.data(_inputFirst.get(0),"mobileSlider").handle,_sliders=$('<div class="ui-rangeslider-sliders" />').appendTo($el);$el.find("label").length>1&&(secondLabel=$el.find("label").last().hide()),_inputFirst.addClass("ui-rangeslider-first"),_inputLast.addClass("ui-rangeslider-last"),$el.addClass(elClass),_sliderFirst.appendTo(_sliders),_sliderLast.appendTo(_sliders),label.prependTo($el),firstHandle.prependTo(_sliderLast),$.extend(this,{_inputFirst:_inputFirst,_inputLast:_inputLast,_sliderFirst:_sliderFirst,_sliderLast:_sliderLast,_targetVal:null,_sliderTarget:!1,_sliders:_sliders,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(firstHandle,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var self=this;setTimeout(function(){self._updateHighlight()},0)},_dragFirstHandle:function(event){return $.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,$.data(this._inputFirst.get(0),"mobileSlider").refresh(event),!1},_slidedrag:function(event){var first=$(event.target).is(this._inputFirst),otherSlider=first?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&first||"last"===this._proxy&&!first?($.data(otherSlider.get(0),"mobileSlider").dragging=!0,$.data(otherSlider.get(0),"mobileSlider").refresh(event),!1):void 0},_slidestop:function(event){var first=$(event.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",first?1:"")},_slidebeforestart:function(event){this._sliderTarget=!1,$(event.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=$(event.target).val())},_setOption:function(options){this._superApply(options),this.refresh()},refresh:function(){var $el=this.element,o=this.options;$el.find("input").slider({theme:o.theme,trackTheme:o.trackTheme,disabled:o.disabled,mini:o.mini,highlight:o.highlight}).slider("refresh"),this._updateHighlight()},_change:function(event){if("keyup"===event.type)return this._updateHighlight(),!1;var self=this,min=parseFloat(this._inputFirst.val(),10),max=parseFloat(this._inputLast.val(),10),first=$(event.target).hasClass("ui-rangeslider-first"),thisSlider=first?this._inputFirst:this._inputLast,otherSlider=first?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===event.type&&!$(event.target).hasClass("ui-slider-handle"))thisSlider.blur();else if("mousedown"===event.type)return;return min>max&&!this._sliderTarget?(thisSlider.val(first?max:min).slider("refresh"),this._trigger("normalize")):min>max&&(thisSlider.val(this._targetVal).slider("refresh"),setTimeout(function(){otherSlider.val(first?min:max).slider("refresh"),$.data(otherSlider.get(0),"mobileSlider").handle.focus(),self._sliderFirst.css("z-index",first?"":1),self._trigger("normalize")},0),this._proxy=first?"first":"last"),min===max?($.data(thisSlider.get(0),"mobileSlider").handle.css("z-index",1),$.data(otherSlider.get(0),"mobileSlider").handle.css("z-index",0)):($.data(otherSlider.get(0),"mobileSlider").handle.css("z-index",""),$.data(thisSlider.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),min>=max?!1:void 0},_updateHighlight:function(){var min=parseInt($.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),max=parseInt($.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),width=max-min;this.element.find(".ui-slider-bg").css({"margin-left":min+"%",width:width+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),$.widget("mobile.rangeslider",$.mobile.rangeslider,$.mobile.behaviors.formReset),
$(document).bind("pagecreate create",function(e){$.mobile.rangeslider.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){$.widget("mobile.selectmenu",$.mobile.widget,$.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return $("<div/>")},_setDisabled:function(value){return this.element.attr("disabled",value),this.button.attr("aria-disabled",value),this._setOption("disabled",value)},_focusButton:function(){var self=this;setTimeout(function(){self.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var classes="";~this.element[0].className.indexOf("ui-btn-left")&&(classes=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(classes=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+classes+"'>"),this.selectID=this.select.attr("id"),this.label=$("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=$.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var wrapper=this.element.parents(".ui-select");wrapper.length>0&&(wrapper.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(wrapper.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(wrapper),wrapper.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var self=this,options=this.options,inline=options.inline||this.select.jqmData("inline"),mini=options.mini||this.select.jqmData("mini"),iconpos=options.icon?options.iconpos||this.select.jqmData("iconpos"):!1,button=(-1===this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:options.theme,icon:options.icon,iconpos:iconpos,inline:inline,corners:options.corners,shadow:options.shadow,iconshadow:options.iconshadow,mini:mini}));this.setButtonText(),options.nativeMenu&&window.opera&&window.opera.version&&button.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=$("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(button.addClass("ui-li-has-count"))),(options.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){self.refresh(),options.nativeMenu&&this.blur()}),this._handleFormReset(),this.build()},build:function(){var self=this;this.select.appendTo(self.button).bind("vmousedown",function(){self.button.addClass($.mobile.activeBtnClass)}).bind("focus",function(){self.button.addClass($.mobile.focusClass)}).bind("blur",function(){self.button.removeClass($.mobile.focusClass)}).bind("focus vmouseover",function(){self.button.trigger("vmouseover")}).bind("vmousemove",function(){self.button.removeClass($.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){self.button.trigger("vmouseout").removeClass($.mobile.activeBtnClass)}).bind("change blur",function(){self.button.removeClass("ui-btn-down-"+self.options.theme)}),self.button.bind("vmousedown",function(){self.options.preventFocusZoom&&$.mobile.zoom.disable(!0)}),self.label.bind("click focus",function(){self.options.preventFocusZoom&&$.mobile.zoom.disable(!0)}),self.select.bind("focus",function(){self.options.preventFocusZoom&&$.mobile.zoom.disable(!0)}),self.button.bind("mouseup",function(){self.options.preventFocusZoom&&setTimeout(function(){$.mobile.zoom.enable(!0)},0)}),self.select.bind("blur",function(){self.options.preventFocusZoom&&$.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var self=this;return this.selected().map(function(){return self._selectOptions().index(this)}).get()},setButtonText:function(){var self=this,selected=this.selected(),text=this.placeholder,span=$(document.createElement("span"));this.button.find(".ui-btn-text").html(function(){return text=selected.length?selected.map(function(){return $(this).text()}).get().join(", "):self.placeholder,span.text(text).addClass(self.select.attr("class")).addClass(selected.attr("class"))})},setButtonCount:function(){var selected=this.selected();this.isMultiple&&this.buttonCount[selected.length>1?"show":"hide"]().text(selected.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:$.noop,close:$.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}},$.mobile.behaviors.formReset)),$.mobile.document.bind("pagecreate create",function(e){$.mobile.selectmenu.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){function fitSegmentInsideSegment(winSize,segSize,offset,desired){var ret=desired;return ret=segSize>winSize?offset+(winSize-segSize)/2:Math.min(Math.max(offset,desired-segSize/2),offset+winSize-segSize)}function windowCoords(){var $win=$.mobile.window;return{x:$win.scrollLeft(),y:$win.scrollTop(),cx:window.innerWidth||$win.width(),cy:window.innerHeight||$win.height()}}$.widget("mobile.popup",$.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!$.mobile.browser.oldIE},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var popupHeight=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),popupHeight>this._ui.screen.height()&&this._ui.screen.height(popupHeight)},_handleWindowKeyUp:function(e){return this._isOpen&&e.keyCode===$.mobile.keyCode.ESCAPE?this._eatEventAndClose(e):void 0},_expectResizeEvent:function(){var winCoords=windowCoords();if(this._resizeData){if(winCoords.x===this._resizeData.winCoords.x&&winCoords.y===this._resizeData.winCoords.y&&winCoords.cx===this._resizeData.winCoords.cx&&winCoords.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout($.proxy(this,"_resizeTimeout"),200),winCoords:winCoords},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var self=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){self._ignoreResizeTo=0},1e3)},_handleWindowResize:function(e){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(e){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(e){var $tgt,tgt=e.target,ui=this._ui;if(this._isOpen){if(tgt!==ui.container[0]){if($tgt=$(e.target),0===$tgt.parents().filter(ui.container[0]).length)return $(document.activeElement).one("focus",function(e){$tgt.blur()}),ui.focusElement.focus(),e.preventDefault(),e.stopImmediatePropagation(),!1;ui.focusElement[0]===ui.container[0]&&(ui.focusElement=$tgt)}this._ignoreResizeEvents()}},_create:function(){var ui={screen:$("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:$("<div style='display: none;'><!-- placeholder --></div>"),container:$("<div class='ui-popup-container ui-popup-hidden'></div>")},thisPage=this.element.closest(".ui-page"),myId=this.element.attr("id"),o=this.options;o.history=o.history&&$.mobile.ajaxEnabled&&$.mobile.hashListeningEnabled,0===thisPage.length&&(thisPage=$("body")),o.container=o.container||$.mobile.pageContainer||thisPage,thisPage.append(ui.screen),ui.container.insertAfter(ui.screen),ui.placeholder.insertAfter(this.element),myId&&(ui.screen.attr("id",myId+"-screen"),ui.container.attr("id",myId+"-popup"),ui.placeholder.html("<!-- placeholder for "+myId+" -->")),ui.container.append(this.element),ui.focusElement=ui.container,this.element.addClass("ui-popup"),$.extend(this,{_scrollTop:0,_page:thisPage,_ui:ui,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._applyTheme(this.element,o.theme,"body"),this._applyTheme(this._ui.screen,o.overlayTheme,"overlay"),this._applyTransition(o.transition),this.element.toggleClass("ui-overlay-shadow",o.shadow).toggleClass("ui-corner-all",o.corners),this._setTolerance(o.tolerance),ui.screen.bind("vclick",$.proxy(this,"_eatEventAndClose")),this._on($.mobile.window,{orientationchange:$.proxy(this,"_handleWindowOrientationchange"),resize:$.proxy(this,"_handleWindowResize"),keyup:$.proxy(this,"_handleWindowKeyUp")}),this._on($.mobile.document,{focusin:$.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(dst,theme,prefix){for(var matches,classes=(dst.attr("class")||"").split(" "),currentTheme=null,themeStr=String(theme);classes.length>0;){if(currentTheme=classes.pop(),matches=new RegExp("^ui-"+prefix+"-([a-z])$").exec(currentTheme),matches&&matches.length>1){currentTheme=matches[1];break}currentTheme=null}theme!==currentTheme&&(dst.removeClass("ui-"+prefix+"-"+currentTheme),null!==theme&&"none"!==theme&&dst.addClass("ui-"+prefix+"-"+themeStr))},_setTheme:function(value){this._applyTheme(this.element,value,"body")},_setOverlayTheme:function(value){this._applyTheme(this._ui.screen,value,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(value){this.element.toggleClass("ui-overlay-shadow",value)},_setCorners:function(value){this.element.toggleClass("ui-corner-all",value)},_applyTransition:function(value){this._ui.container.removeClass(this._fallbackTransition),value&&"none"!==value&&(this._fallbackTransition=$.mobile._maybeDegradeTransition(value),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(value){this._currentTransition||this._applyTransition(value)},_setTolerance:function(value){var tol={t:30,r:15,b:30,l:15};if(value!==undefined){var ar=String(value).split(",");switch($.each(ar,function(idx,val){ar[idx]=parseInt(val,10)}),ar.length){case 1:isNaN(ar[0])||(tol.t=tol.r=tol.b=tol.l=ar[0]);break;case 2:isNaN(ar[0])||(tol.t=tol.b=ar[0]),isNaN(ar[1])||(tol.l=tol.r=ar[1]);break;case 4:isNaN(ar[0])||(tol.t=ar[0]),isNaN(ar[1])||(tol.r=ar[1]),isNaN(ar[2])||(tol.b=ar[2]),isNaN(ar[3])||(tol.l=ar[3])}}this._tolerance=tol},_setOption:function(key,value){var setter="_set"+key.charAt(0).toUpperCase()+key.slice(1);this[setter]!==undefined&&this[setter](value),this._super(key,value)},_placementCoords:function(desired){var menuSize,ret,winCoords=windowCoords(),rc={x:this._tolerance.l,y:winCoords.y+this._tolerance.t,cx:winCoords.cx-this._tolerance.l-this._tolerance.r,cy:winCoords.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",rc.cx),menuSize={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},ret={x:fitSegmentInsideSegment(rc.cx,menuSize.cx,rc.x,desired.x),y:fitSegmentInsideSegment(rc.cy,menuSize.cy,rc.y,desired.y)},ret.y=Math.max(0,ret.y);var docEl=document.documentElement,docBody=document.body,docHeight=Math.max(docEl.clientHeight,docBody.scrollHeight,docBody.offsetHeight,docEl.scrollHeight,docEl.offsetHeight);return ret.y-=Math.min(ret.y,Math.max(0,ret.y+menuSize.cy-docHeight)),{left:ret.x,top:ret.y}},_createPrereqs:function(screenPrereq,containerPrereq,whenDone){var prereqs,self=this;prereqs={screen:$.Deferred(),container:$.Deferred()},prereqs.screen.then(function(){prereqs===self._prereqs&&screenPrereq()}),prereqs.container.then(function(){prereqs===self._prereqs&&containerPrereq()}),$.when(prereqs.screen,prereqs.container).done(function(){prereqs===self._prereqs&&(self._prereqs=null,whenDone())}),self._prereqs=prereqs},_animate:function(args){return this._ui.screen.removeClass(args.classToRemove).addClass(args.screenClassToAdd),args.prereqs.screen.resolve(),args.transition&&"none"!==args.transition&&(args.applyTransition&&this._applyTransition(args.transition),this._fallbackTransition)?void this._ui.container.animationComplete($.proxy(args.prereqs.container,"resolve")).addClass(args.containerClassToAdd).removeClass(args.classToRemove):(this._ui.container.removeClass(args.classToRemove),void args.prereqs.container.resolve())},_desiredCoords:function(o){var offset,dst=null,winCoords=windowCoords(),x=o.x,y=o.y,pTo=o.positionTo;if(pTo&&"origin"!==pTo)if("window"===pTo)x=winCoords.cx/2+winCoords.x,y=winCoords.cy/2+winCoords.y;else{try{dst=$(pTo)}catch(e){dst=null}dst&&(dst.filter(":visible"),0===dst.length&&(dst=null))}return dst&&(offset=dst.offset(),x=offset.left+dst.outerWidth()/2,y=offset.top+dst.outerHeight()/2),("number"!==$.type(x)||isNaN(x))&&(x=winCoords.cx/2+winCoords.x),("number"!==$.type(y)||isNaN(y))&&(y=winCoords.cy/2+winCoords.y),{x:x,y:y}},_reposition:function(o){o={x:o.x,y:o.y,positionTo:o.positionTo},this._trigger("beforeposition",undefined,o),this._ui.container.offset(this._placementCoords(this._desiredCoords(o)))},reposition:function(o){this._isOpen&&this._reposition(o)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(options){var o=$.extend({},this.options,options),androidBlacklist=function(){var ua=navigator.userAgent,wkmatch=ua.match(/AppleWebKit\/([0-9\.]+)/),wkversion=!!wkmatch&&wkmatch[1],androidmatch=ua.match(/Android (\d+(?:\.\d+))/),andversion=!!androidmatch&&androidmatch[1],chromematch=ua.indexOf("Chrome")>-1;return!(!(null!==androidmatch&&"4.0"===andversion&&wkversion&&wkversion>534.13)||chromematch)}();this._createPrereqs($.noop,$.noop,$.proxy(this,"_openPrereqsComplete")),this._currentTransition=o.transition,this._applyTransition(o.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||$.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(o),this.options.overlayTheme&&androidBlacklist&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:o.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var container=this._ui.container;container.removeAttr("tabindex"),$.mobile.popup.active=undefined,$(":focus",container[0]).add(container[0]).blur(),this._trigger("afterclose")},_close:function(immediate){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs($.proxy(this,"_closePrereqScreen"),$.proxy(this,"_closePrereqContainer"),$.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:immediate?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){$.mobile.popup.active===this?(this.element.one("popupafterclose",$.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(e,data){var parsedDst,toUrl,o=this.options,immediate=!1;window.scrollTo(0,this._scrollTop),e&&"pagebeforechange"===e.type&&data&&(parsedDst="string"==typeof data.toPage?data.toPage:data.toPage.jqmData("url"),parsedDst=$.mobile.path.parseUrl(parsedDst),toUrl=parsedDst.pathname+parsedDst.search+parsedDst.hash,this._myUrl!==$.mobile.path.makeUrlAbsolute(toUrl)?immediate=!0:e.preventDefault()),o.container.unbind(o.closeEvents),this.element.undelegate(o.closeLinkSelector,o.closeLinkEvents),this._close(immediate)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,$.proxy(this,"_closePopup"))},open:function(options){var url,hashkey,activePage,currentIsDialog,hasHash,urlHistory,self=this,opts=this.options;if(!$.mobile.popup.active){if($.mobile.popup.active=this,this._scrollTop=$.mobile.window.scrollTop(),!opts.history)return self._open(options),self._bindContainerClose(),void self.element.delegate(opts.closeLinkSelector,opts.closeLinkEvents,function(e){self.close(),e.preventDefault()});if(urlHistory=$.mobile.urlHistory,hashkey=$.mobile.dialogHashKey,activePage=$.mobile.activePage,currentIsDialog=activePage.is(".ui-dialog"),this._myUrl=url=urlHistory.getActive().url,hasHash=url.indexOf(hashkey)>-1&&!currentIsDialog&&urlHistory.activeIndex>0)return self._open(options),void self._bindContainerClose();-1!==url.indexOf(hashkey)||currentIsDialog?url=$.mobile.path.parseLocation().hash+hashkey:url+=url.indexOf("#")>-1?hashkey:"#"+hashkey,0===urlHistory.activeIndex&&url===urlHistory.initialDst&&(url+=hashkey),$(window).one("beforenavigate",function(e){e.preventDefault(),self._open(options),self._bindContainerClose()}),this.urlAltered=!0,$.mobile.navigate(url,{role:"dialog"})}},close:function(){$.mobile.popup.active===this&&(this._scrollTop=$.mobile.window.scrollTop(),this.options.history&&this.urlAltered?($.mobile.back(),this.urlAltered=!1):this._closePopup())}}),$.mobile.popup.handleLink=function($link){var offset,closestPage=$link.closest(":jqmData(role='page')"),scope=0===closestPage.length?$("body"):closestPage,popup=$($.mobile.path.parseUrl($link.attr("href")).hash,scope[0]);popup.data("mobile-popup")&&(offset=$link.offset(),popup.popup("open",{x:offset.left+$link.outerWidth()/2,y:offset.top+$link.outerHeight()/2,transition:$link.jqmData("transition"),positionTo:$link.jqmData("position-to")})),setTimeout(function(){var $parent=$link.parent().parent();$parent.hasClass("ui-li")&&($link=$parent.parent()),$link.removeClass($.mobile.activeBtnClass)},300)},$.mobile.document.bind("pagebeforechange",function(e,data){"popup"===data.options.role&&($.mobile.popup.handleLink(data.options.link),e.preventDefault())}),$.mobile.document.bind("pagecreate create",function(e){$.mobile.popup.prototype.enhanceWithin(e.target,!0)})}(jQuery),function($,undefined){var extendSelect=function(widget){var menuPageContent,menuPageClose,headerClose,origDestroy=(widget.select,widget._destroy),selectID=widget.selectID,prefix=selectID?selectID:($.mobile.ns||"")+"uuid-"+widget.uuid,popupID=prefix+"-listbox",dialogID=prefix+"-dialog",label=widget.label,thisPage=widget.select.closest(".ui-page"),selectOptions=widget._selectOptions(),isMultiple=widget.isMultiple=widget.select[0].multiple,buttonId=selectID+"-button",menuId=selectID+"-menu",menuPage=$("<div data-"+$.mobile.ns+"role='dialog' id='"+dialogID+"' data-"+$.mobile.ns+"theme='"+widget.options.theme+"' data-"+$.mobile.ns+"overlay-theme='"+widget.options.overlayTheme+"'><div data-"+$.mobile.ns+"role='header'><div class='ui-title'>"+label.getEncodedText()+"</div></div><div data-"+$.mobile.ns+"role='content'></div></div>"),listbox=$("<div id='"+popupID+"' class='ui-selectmenu'>").insertAfter(widget.select).popup({theme:widget.options.overlayTheme}),list=$("<ul>",{"class":"ui-selectmenu-list",id:menuId,role:"listbox","aria-labelledby":buttonId}).attr("data-"+$.mobile.ns+"theme",widget.options.theme).attr("data-"+$.mobile.ns+"divider-theme",widget.options.dividerTheme).appendTo(listbox),header=$("<div>",{"class":"ui-header ui-bar-"+widget.options.theme}).prependTo(listbox),headerTitle=$("<h1>",{"class":"ui-title"}).appendTo(header);widget.isMultiple&&(headerClose=$("<a>",{text:widget.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+$.mobile.ns+"iconpos","notext").attr("data-"+$.mobile.ns+"icon","delete").appendTo(header).buttonMarkup()),$.extend(widget,{select:widget.select,selectID:selectID,buttonId:buttonId,menuId:menuId,popupID:popupID,dialogID:dialogID,thisPage:thisPage,menuPage:menuPage,label:label,selectOptions:selectOptions,isMultiple:isMultiple,theme:widget.options.theme,listbox:listbox,list:list,header:header,headerTitle:headerTitle,headerClose:headerClose,menuPageContent:menuPageContent,menuPageClose:menuPageClose,placeholder:"",build:function(){var self=this,escapeId=function(id){return id.replace(/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,"\\$1")};self.refresh(),self._origTabIndex===undefined&&(self._origTabIndex=null===self.select[0].getAttribute("tabindex")?!1:self.select.attr("tabindex")),self.select.attr("tabindex","-1").focus(function(){$(this).blur(),self.button.focus()}),self.button.bind("vclick keydown",function(event){self.options.disabled||self.isOpen||("vclick"===event.type||event.keyCode&&(event.keyCode===$.mobile.keyCode.ENTER||event.keyCode===$.mobile.keyCode.SPACE))&&(self._decideFormat(),"overlay"===self.menuType?self.button.attr("href","#"+escapeId(self.popupID)).attr("data-"+($.mobile.ns||"")+"rel","popup"):self.button.attr("href","#"+escapeId(self.dialogID)).attr("data-"+($.mobile.ns||"")+"rel","dialog"),self.isOpen=!0)}),self.list.attr("role","listbox").bind("focusin",function(e){$(e.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(e){$(e.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(event){var oldIndex=self.select[0].selectedIndex,newIndex=self.list.find("li:not(.ui-li-divider)").index(this),option=self._selectOptions().eq(newIndex)[0];option.selected=self.isMultiple?!option.selected:!0,self.isMultiple&&$(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",option.selected).toggleClass("ui-icon-checkbox-off",!option.selected),(self.isMultiple||oldIndex!==newIndex)&&self.select.trigger("change"),self.isMultiple?self.list.find("li:not(.ui-li-divider)").eq(newIndex).addClass("ui-btn-down-"+widget.options.theme).find("a").first().focus():self.close(),event.preventDefault()}).keydown(function(event){var prev,next,target=$(event.target),li=target.closest("li");switch(event.keyCode){case 38:return prev=li.prev().not(".ui-selectmenu-placeholder"),prev.is(".ui-li-divider")&&(prev=prev.prev()),prev.length&&(target.blur().attr("tabindex","-1"),prev.addClass("ui-btn-down-"+widget.options.theme).find("a").first().focus()),!1;case 40:return next=li.next(),next.is(".ui-li-divider")&&(next=next.next()),next.length&&(target.blur().attr("tabindex","-1"),next.addClass("ui-btn-down-"+widget.options.theme).find("a").first().focus()),!1;case 13:case 32:return target.trigger("click"),!1}}),self.menuPage.bind("pagehide",function(){$.mobile._bindPageRemove.call(self.thisPage)}),self.listbox.bind("popupafterclose",function(event){self.close()}),self.isMultiple&&self.headerClose.click(function(){return"overlay"===self.menuType?(self.close(),!1):void 0}),self.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var list=this.list.find("li"),options=this._selectOptions();return options.text()!==list.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(forceRebuild,foo){var indicies,self=this;this.element,this.isMultiple;(forceRebuild||this._isRebuildRequired())&&self._buildList(),indicies=this.selectedIndices(),self.setButtonText(),self.setButtonCount(),self.list.find("li:not(.ui-li-divider)").removeClass($.mobile.activeBtnClass).attr("aria-selected",!1).each(function(i){if($.inArray(i,indicies)>-1){var item=$(this);item.attr("aria-selected",!0),self.isMultiple?item.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):item.is(".ui-selectmenu-placeholder")?item.next().addClass($.mobile.activeBtnClass):item.addClass($.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var self=this;"page"===self.menuType?(self.menuPage.dialog("close"),self.list.appendTo(self.listbox)):self.listbox.popup("close"),self._focusButton(),self.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function focusMenuItem(){var selector=self.list.find("."+$.mobile.activeBtnClass+" a");0===selector.length&&(selector=self.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),selector.first().focus().closest("li").addClass("ui-btn-down-"+widget.options.theme)}var self=this,$window=$.mobile.window,selfListParent=self.list.parent(),menuHeight=selfListParent.outerHeight(),scrollTop=(selfListParent.outerWidth(),$("."+$.mobile.activePageClass),$window.scrollTop()),btnOffset=self.button.offset().top,screenHeight=$window.height();$window.width();menuHeight>screenHeight-80||!$.support.scrollTop?(self.menuPage.appendTo($.mobile.pageContainer).page(),self.menuPageContent=menuPage.find(".ui-content"),self.menuPageClose=menuPage.find(".ui-header a"),self.thisPage.unbind("pagehide.remove"),0===scrollTop&&btnOffset>screenHeight&&self.thisPage.one("pagehide",function(){$(this).jqmData("lastScroll",btnOffset)}),self.menuPage.one("pageshow",function(){focusMenuItem()}).one("pagehide",function(){self.close()}),self.menuType="page",self.menuPageContent.append(self.list),self.menuPage.find("div .ui-title").text(self.label.text())):(self.menuType="overlay",self.listbox.one("popupafteropen",focusMenuItem))},_buildList:function(){var self=this,o=this.options,placeholder=this.placeholder,needPlaceholder=!0,dataIcon=self.isMultiple?"checkbox-off":"false";self.list.empty().filter(".ui-listview").listview("destroy");for(var optGroup,$options=self.select.find("option"),numOptions=$options.length,select=this.select[0],dataPrefix="data-"+$.mobile.ns,dataIndexAttr=dataPrefix+"option-index",dataIconAttr=dataPrefix+"icon",dataRoleAttr=dataPrefix+"role",dataPlaceholderAttr=dataPrefix+"placeholder",fragment=document.createDocumentFragment(),isPlaceholderItem=!1,i=0;numOptions>i;i++,isPlaceholderItem=!1){var option=$options[i],$option=$(option),parent=option.parentNode,text=$option.text(),anchor=document.createElement("a"),classes=[];if(anchor.setAttribute("href","#"),anchor.appendChild(document.createTextNode(text)),parent!==select&&"optgroup"===parent.nodeName.toLowerCase()){var optLabel=parent.getAttribute("label");if(optLabel!==optGroup){var divider=document.createElement("li");divider.setAttribute(dataRoleAttr,"list-divider"),divider.setAttribute("role","option"),divider.setAttribute("tabindex","-1"),divider.appendChild(document.createTextNode(optLabel)),fragment.appendChild(divider),optGroup=optLabel}}!needPlaceholder||option.getAttribute("value")&&0!==text.length&&!$option.jqmData("placeholder")||(needPlaceholder=!1,isPlaceholderItem=!0,null===option.getAttribute(dataPlaceholderAttr)&&(this._removePlaceholderAttr=!0),option.setAttribute(dataPlaceholderAttr,!0),o.hidePlaceholderMenuItems&&classes.push("ui-selectmenu-placeholder"),placeholder!==text&&(placeholder=self.placeholder=text));var item=document.createElement("li");option.disabled&&(classes.push("ui-disabled"),item.setAttribute("aria-disabled",!0)),item.setAttribute(dataIndexAttr,i),item.setAttribute(dataIconAttr,dataIcon),isPlaceholderItem&&item.setAttribute(dataPlaceholderAttr,!0),item.className=classes.join(" "),item.setAttribute("role","option"),anchor.setAttribute("tabindex","-1"),item.appendChild(anchor),fragment.appendChild(item)}self.list[0].appendChild(fragment),this.isMultiple||placeholder.length?this.headerTitle.text(this.placeholder):this.header.hide(),self.list.listview()},_button:function(){return $("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),this._origTabIndex!==undefined&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+$.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove(),origDestroy.apply(this,arguments)}})};$.mobile.document.bind("selectmenubeforecreate",function(event){var selectmenuWidget=$(event.target).data("mobile-selectmenu");selectmenuWidget.options.nativeMenu||0!==selectmenuWidget.element.parents(":jqmData(role='popup')").length||extendSelect(selectmenuWidget)})}(jQuery),function($,undefined){$.widget("mobile.controlgroup",$.mobile.widget,$.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var $el=this.element,ui={inner:$("<div class='ui-controlgroup-controls'></div>"),legend:$("<div role='heading' class='ui-controlgroup-label'></div>")},grouplegend=$el.children("legend"),self=this;$el.wrapInner(ui.inner),grouplegend.length&&ui.legend.append(grouplegend).insertBefore($el.children(0)),$el.addClass("ui-corner-all ui-controlgroup"),$.extend(this,{_initialRefresh:!0}),$.each(this.options,function(key,value){self.options[key]=undefined,self._setOption(key,value,!0)})},_init:function(){this.refresh()},_setOption:function(key,value){var setter="_set"+key.charAt(0).toUpperCase()+key.slice(1);this[setter]!==undefined&&this[setter](value),this._super(key,value),this.element.attr("data-"+($.mobile.ns||"")+key.replace(/([A-Z])/,"-$1").toLowerCase(),value)},_setType:function(value){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+value),this.refresh()},_setCorners:function(value){this.element.toggleClass("ui-corner-all",value)},_setShadow:function(value){this.element.toggleClass("ui-shadow",value)},_setMini:function(value){this.element.toggleClass("ui-mini",value)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var els=this.element.find(".ui-btn").not(".ui-slider-handle"),create=this._initialRefresh;$.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(els,this.options.excludeInvisible?this._getVisibles(els,create):els,create),this._initialRefresh=!1}},$.mobile.behaviors.addFirstLastClasses)),$(function(){$.mobile.document.bind("pagecreate create",function(e){$.mobile.controlgroup.prototype.enhanceWithin(e.target,!0)})})}(jQuery),function($,undefined){$(document).bind("pagecreate create",function(e){$(e.target).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,href=$(this).attr("href"),idref=href.substring(1);e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",idref),e.setAttribute("aria-expanded",!1),$(document).on("popupafteropen",href,function(){e.setAttribute("aria-expanded",!0)}).on("popupafterclose",href,function(){e.setAttribute("aria-expanded",!1)})}).end().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(jQuery),function($,undefined){$.widget("mobile.fixedtoolbar",$.mobile.widget,{
options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!$.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var self=this,o=self.options,$el=self.element,tbtype=$el.is(":jqmData(role='header')")?"header":"footer",$page=$el.closest(".ui-page");return o.supportBlacklist()?void self.destroy():($el.addClass("ui-"+tbtype+"-fixed"),o.fullscreen?($el.addClass("ui-"+tbtype+"-fullscreen"),$page.addClass("ui-page-"+tbtype+"-fullscreen")):$page.addClass("ui-page-"+tbtype+"-fixed"),$.extend(this,{_thisPage:null}),self._addTransitionClass(),self._bindPageEvents(),void self._bindToggleHandlers())},_addTransitionClass:function(){var tclass=this.options.transition;tclass&&"none"!==tclass&&("slide"===tclass&&(tclass=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(tclass))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var o=this.options;o.disablePageZoom&&$.mobile.zoom.disable(!0),o.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on($.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(e,ui){var o=this.options;if(o.disablePageZoom&&$.mobile.zoom.enable(!0),o.updatePagePadding&&this._off($.mobile.window,"throttledresize"),o.trackPersistentToolbars){var thisFooter=$(".ui-footer-fixed:jqmData(id)",this._thisPage),thisHeader=$(".ui-header-fixed:jqmData(id)",this._thisPage),nextFooter=thisFooter.length&&ui.nextPage&&$(".ui-footer-fixed:jqmData(id='"+thisFooter.jqmData("id")+"')",ui.nextPage)||$(),nextHeader=thisHeader.length&&ui.nextPage&&$(".ui-header-fixed:jqmData(id='"+thisHeader.jqmData("id")+"')",ui.nextPage)||$();(nextFooter.length||nextHeader.length)&&(nextFooter.add(nextHeader).appendTo($.mobile.pageContainer),ui.nextPage.one("pageshow",function(){nextHeader.prependTo(this),nextFooter.appendTo(this)}))}},_visible:!0,updatePagePadding:function(tbPage){var $el=this.element,header=$el.is(".ui-header"),pos=parseFloat($el.css(header?"top":"bottom"));this.options.fullscreen||(tbPage=tbPage&&tbPage.type===undefined&&tbPage||this._thisPage||$el.closest(".ui-page"),$(tbPage).css("padding-"+(header?"top":"bottom"),$el.outerHeight()+pos))},_useTransition:function(notransition){var $win=$.mobile.window,$el=this.element,scroll=$win.scrollTop(),elHeight=$el.height(),pHeight=$el.closest(".ui-page").height(),viewportHeight=$.mobile.getScreenHeight(),tbtype=$el.is(":jqmData(role='header')")?"header":"footer";return!notransition&&(this.options.transition&&"none"!==this.options.transition&&("header"===tbtype&&!this.options.fullscreen&&scroll>elHeight||"footer"===tbtype&&!this.options.fullscreen&&pHeight-elHeight>scroll+viewportHeight)||this.options.fullscreen)},show:function(notransition){var hideClass="ui-fixed-hidden",$el=this.element;this._useTransition(notransition)?$el.removeClass("out "+hideClass).addClass("in").animationComplete(function(){$el.removeClass("in")}):$el.removeClass(hideClass),this._visible=!0},hide:function(notransition){var hideClass="ui-fixed-hidden",$el=this.element,outclass="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(notransition)?$el.addClass(outclass).removeClass("in").animationComplete(function(){$el.addClass(hideClass).removeClass(outclass)}):$el.addClass(hideClass).removeClass(outclass),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var delayShow,delayHide,self=this,o=self.options,$el=self.element,isVisible=!0;$el.closest(".ui-page").bind("vclick",function(e){o.tapToggle&&!$(e.target).closest(o.tapToggleBlacklist).length&&self.toggle()}).bind("focusin focusout",function(e){screen.width<1025&&$(e.target).is(o.hideDuringFocus)&&!$(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==e.type||isVisible?"focusin"===e.type&&isVisible&&(clearTimeout(delayShow),isVisible=!1,delayHide=setTimeout(function(){self.hide()},0)):(isVisible=!0,clearTimeout(delayHide),delayShow=setTimeout(function(){self.show()},0)))})},_destroy:function(){var $el=this.element,header=$el.is(".ui-header");$el.closest(".ui-page").css("padding-"+(header?"top":"bottom"),""),$el.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),$el.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),$.mobile.document.bind("pagecreate create",function(e){$(e.target).jqmData("fullscreen")&&$($.mobile.fixedtoolbar.prototype.options.initSelector,e.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),$.mobile.fixedtoolbar.prototype.enhanceWithin(e.target)})}(jQuery),function($,undefined){$.widget("mobile.fixedtoolbar",$.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var ua=navigator.userAgent,platform=navigator.platform,wkmatch=ua.match(/AppleWebKit\/([0-9]+)/),wkversion=!!wkmatch&&wkmatch[1],os=null,self=this;if(platform.indexOf("iPhone")>-1||platform.indexOf("iPad")>-1||platform.indexOf("iPod")>-1)os="ios";else{if(!(ua.indexOf("Android")>-1))return;os="android"}if("ios"===os)self._bindScrollWorkaround();else{if(!("android"===os&&wkversion&&534>wkversion))return;self._bindScrollWorkaround(),self._bindListThumbWorkaround()}},_viewportOffset:function(){var $el=this.element,header=$el.is(".ui-header"),offset=Math.abs($el.offset().top-$.mobile.window.scrollTop());return header||(offset=Math.round(offset-$.mobile.window.height()+$el.outerHeight())-60),offset},_bindScrollWorkaround:function(){var self=this;this._on($.mobile.window,{scrollstop:function(){var viewportOffset=self._viewportOffset();viewportOffset>2&&self._visible&&self._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var paddingBottom=parseFloat($(".ui-page-active").css("padding-bottom"));$(".ui-page-active").css("padding-bottom",paddingBottom+1+"px"),setTimeout(function(){$(".ui-page-active").css("padding-bottom",paddingBottom+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(jQuery),function($,undefined){$.widget("mobile.panel",$.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var self=this,$el=self.element,page=$el.closest(":jqmData(role='page')"),_getPageTheme=function(){var $theme=$.data(page[0],"mobilePage").options.theme,$pageThemeClass="ui-body-"+$theme;return $pageThemeClass},_getPanelInner=function(){var $panelInner=$el.find("."+self.options.classes.panelInner);return 0===$panelInner.length&&($panelInner=$el.children().wrapAll('<div class="'+self.options.classes.panelInner+'" />').parent()),$panelInner},_getWrapper=function(){var $wrapper=page.find("."+self.options.classes.contentWrap);return 0===$wrapper.length&&($wrapper=page.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+self.options.classes.contentWrap+" "+_getPageTheme()+'" />').parent(),$.support.cssTransform3d&&self.options.animate&&$wrapper.addClass(self.options.classes.animate)),$wrapper},_getFixedToolbar=function(){var $fixedToolbar=page.find("."+self.options.classes.contentFixedToolbar);return 0===$fixedToolbar.length&&($fixedToolbar=page.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(self.options.classes.contentFixedToolbar),$.support.cssTransform3d&&self.options.animate&&$fixedToolbar.addClass(self.options.classes.animate)),$fixedToolbar};$.extend(this,{_panelID:$el.attr("id"),_closeLink:$el.find(":jqmData(rel='close')"),_page:$el.closest(":jqmData(role='page')"),_pageTheme:_getPageTheme(),_panelInner:_getPanelInner(),_wrapper:_getWrapper(),_fixedToolbar:_getFixedToolbar()}),self._addPanelClasses(),self._wrapper.addClass(this.options.classes.contentWrapClosed),self._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),self._page.addClass(self.options.classes.pagePanel),$.support.cssTransform3d&&self.options.animate&&this.element.addClass(self.options.classes.animate),self._bindUpdateLayout(),self._bindCloseEvents(),self._bindLinkListeners(),self._bindPageEvents(),self.options.dismissible&&self._createModal(),self._bindSwipeEvents()},_createModal:function(options){var self=this;self._modal=$("<div class='"+self.options.classes.modal+"' data-panelid='"+self._panelID+"'></div>").on("mousedown",function(){self.close()}).appendTo(this._page)},_getPosDisplayClasses:function(prefix){return prefix+"-position-"+this.options.position+" "+prefix+"-display-"+this.options.display},_getPanelClasses:function(){var panelClasses=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(panelClasses+=" ui-body-"+this.options.theme),this.options.positionFixed&&(panelClasses+=" "+this.options.classes.panelFixed),panelClasses},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var self=this;self._closeLink.on("click.panel",function(e){return e.preventDefault(),self.close(),!1}),self.element.on("click.panel","a:jqmData(ajax='false')",function(e){self.close()})},_positionPanel:function(){var self=this,panelInnerHeight=self._panelInner.outerHeight(),expand=panelInnerHeight>$.mobile.getScreenHeight();expand||!self.options.positionFixed?(expand&&(self._unfixPanel(),$.mobile.resetActivePageHeight(panelInnerHeight)),self._scrollIntoView(panelInnerHeight)):self._fixPanel()},_scrollIntoView:function(panelInnerHeight){panelInnerHeight<$(window).scrollTop()&&window.scrollTo(0,0)},_bindFixListener:function(){this._on($(window),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off($(window),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&$.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&$.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var self=this;self.element.on("updatelayout",function(e){self._open&&self._positionPanel()})},_bindLinkListeners:function(){var self=this;self._page.on("click.panel","a",function(e){if(this.href.split("#")[1]===self._panelID&&self._panelID!==undefined){e.preventDefault();var $parent,$link=$(this);return $link.hasClass("ui-link")||($parent=$link.parent().parent(),$parent.hasClass("ui-li")&&($link=$parent.parent()),$link.addClass($.mobile.activeBtnClass),self.element.one("panelopen panelclose",function(){$link.removeClass($.mobile.activeBtnClass)})),self.toggle(),!1}})},_bindSwipeEvents:function(){var self=this,area=self._modal?self.element.add(self._modal):self.element;self.options.swipeClose&&("left"===self.options.position?area.on("swipeleft.panel",function(e){self.close()}):area.on("swiperight.panel",function(e){self.close()}))},_bindPageEvents:function(){var self=this;self._page.on("panelbeforeopen",function(e){self._open&&e.target!==self.element[0]&&self.close()}).on("pagehide",function(e){self._open&&self.close(!0)}).on("keyup.panel",function(e){27===e.keyCode&&self._open&&self.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(immediate){if(!this._open){var self=this,o=self.options,_openPanel=function(){self._page.off("panelclose"),self._page.jqmData("panel","open"),!immediate&&$.support.cssTransform3d&&o.animate?self.element.add(self._wrapper).on(self._transitionEndEvents,complete):setTimeout(complete,0),self.options.theme&&"overlay"!==self.options.display&&self._page.removeClass(self._pageTheme).addClass("ui-body-"+self.options.theme),self.element.removeClass(o.classes.panelClosed).addClass(o.classes.panelOpen),self._positionPanel(),self.options.theme&&"overlay"!==self.options.display&&self._wrapper.css("min-height",self._page.css("min-height")),self._contentWrapOpenClasses=self._getPosDisplayClasses(o.classes.contentWrap),self._wrapper.removeClass(o.classes.contentWrapClosed).addClass(self._contentWrapOpenClasses+" "+o.classes.contentWrapOpen),self._fixedToolbarOpenClasses=self._getPosDisplayClasses(o.classes.contentFixedToolbar),self._fixedToolbar.removeClass(o.classes.contentFixedToolbarClosed).addClass(self._fixedToolbarOpenClasses+" "+o.classes.contentFixedToolbarOpen),self._modalOpenClasses=self._getPosDisplayClasses(o.classes.modal)+" "+o.classes.modalOpen,self._modal&&self._modal.addClass(self._modalOpenClasses)},complete=function(){self.element.add(self._wrapper).off(self._transitionEndEvents,complete),self._page.addClass(o.classes.pagePanelOpen),self._bindFixListener(),self._trigger("open")};this.element.closest(".ui-page-active").length<0&&(immediate=!0),self._trigger("beforeopen"),"open"===self._page.jqmData("panel")?self._page.on("panelclose",function(){_openPanel()}):_openPanel(),self._open=!0}},close:function(immediate){if(this._open){var o=this.options,self=this,_closePanel=function(){!immediate&&$.support.cssTransform3d&&o.animate?self.element.add(self._wrapper).on(self._transitionEndEvents,complete):setTimeout(complete,0),self._page.removeClass(o.classes.pagePanelOpen),self.element.removeClass(o.classes.panelOpen),self._wrapper.removeClass(o.classes.contentWrapOpen),self._fixedToolbar.removeClass(o.classes.contentFixedToolbarOpen),self._modal&&self._modal.removeClass(self._modalOpenClasses)},complete=function(){self.options.theme&&"overlay"!==self.options.display&&(self._page.removeClass("ui-body-"+self.options.theme).addClass(self._pageTheme),self._wrapper.css("min-height","")),self.element.add(self._wrapper).off(self._transitionEndEvents,complete),self.element.addClass(o.classes.panelClosed),self._wrapper.removeClass(self._contentWrapOpenClasses).addClass(o.classes.contentWrapClosed),self._fixedToolbar.removeClass(self._fixedToolbarOpenClasses).addClass(o.classes.contentFixedToolbarClosed),self._fixPanel(),self._unbindFixListener(),$.mobile.resetActivePageHeight(),self._page.jqmRemoveData("panel"),self._trigger("close")};this.element.closest(".ui-page-active").length<0&&(immediate=!0),self._trigger("beforeclose"),_closePanel(),self._open=!1}},toggle:function(options){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var classes=this.options.classes,theme=this.options.theme,hasOtherSiblingPanels=this.element.siblings("."+classes.panel).length;hasOtherSiblingPanels?this._open&&(this._wrapper.removeClass(classes.contentWrapOpen),this._fixedToolbar.removeClass(classes.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(classes.pagePanelOpen),theme&&this._page.removeClass("ui-body-"+theme).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(classes.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(classes.pagePanelOpen),theme&&this._page.removeClass("ui-body-"+theme).addClass(this._pageTheme),$.mobile.resetActivePageHeight())),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),classes.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([classes.panelUnfixed,classes.panelClosed,classes.panelOpen].join(" "))}}),$(document).bind("pagecreate create",function(e){$.mobile.panel.prototype.enhanceWithin(e.target)})}(jQuery),function($,undefined){$.widget("mobile.table",$.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var self=this;self.refresh(!0)},refresh:function(create){var self=this,trs=this.element.find("thead tr");create&&this.element.addClass(this.options.classes.table),self.headers=this.element.find("tr:eq(0)").children(),self.allHeaders=self.headers.add(trs.children()),trs.each(function(){var coltally=0;$(this).children().each(function(i){var span=parseInt($(this).attr("colspan"),10),sel=":nth-child("+(coltally+1)+")";if($(this).jqmData("colstart",coltally+1),span)for(var j=0;span-1>j;j++)coltally++,sel+=", :nth-child("+(coltally+1)+")";create===undefined&&$(this).jqmData("cells",""),$(this).jqmData("cells",self.element.find("tr").not(trs.eq(0)).not(this).children(sel)),coltally++})}),create===undefined&&this.element.trigger("refresh")}}),$.mobile.document.bind("pagecreate create",function(e){$.mobile.table.prototype.enhanceWithin(e.target)})}(jQuery),function($,undefined){$.mobile.table.prototype.options.mode="columntoggle",$.mobile.table.prototype.options.columnBtnTheme=null,$.mobile.table.prototype.options.columnPopupTheme=null,$.mobile.table.prototype.options.columnBtnText="Columns...",$.mobile.table.prototype.options.classes=$.extend($.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),$.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(e){var $menuButton,$popup,$menu,$switchboard,$table=$(this),self=$table.data("mobile-table"),event=e.type,o=self.options,ns=$.mobile.ns,id=($table.attr("id")||o.classes.popup)+"-popup";"columntoggle"===o.mode&&("refresh"!==event&&(self.element.addClass(o.classes.columnToggleTable),$menuButton=$("<a href='#"+id+"' class='"+o.classes.columnBtn+"' data-"+ns+"rel='popup' data-"+ns+"mini='true'>"+o.columnBtnText+"</a>"),$popup=$("<div data-"+ns+"role='popup' data-"+ns+"role='fieldcontain' class='"+o.classes.popup+"' id='"+id+"'></div>"),$menu=$("<fieldset data-"+ns+"role='controlgroup'></fieldset>")),self.headers.not("td").each(function(i){var priority=$(this).jqmData("priority"),$cells=$(this).add($(this).jqmData("cells"));priority&&($cells.addClass(o.classes.priorityPrefix+priority),"refresh"!==event?$("<label><input type='checkbox' checked />"+$(this).text()+"</label>").appendTo($menu).children(0).jqmData("cells",$cells).checkboxradio({theme:o.columnPopupTheme}):$("#"+id+" fieldset div:eq("+i+")").find("input").jqmData("cells",$cells))}),"refresh"!==event&&$menu.appendTo($popup),$switchboard=$menu===undefined?$("#"+id+" fieldset"):$menu,"refresh"!==event&&($switchboard.on("change","input",function(e){this.checked?$(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):$(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),$menuButton.insertBefore($table).buttonMarkup({theme:o.columnBtnTheme}),$popup.insertBefore($table).popup()),self.update=function(){$switchboard.find("input").each(function(){this.checked?(this.checked="table-cell"===$(this).jqmData("cells").eq(0).css("display"),"refresh"===event&&$(this).jqmData("cells").addClass("ui-table-cell-visible")):$(this).jqmData("cells").addClass("ui-table-cell-hidden"),$(this).checkboxradio("refresh")})},$.mobile.window.on("throttledresize",self.update),self.update())})}(jQuery),function($,undefined){$.mobile.table.prototype.options.mode="reflow",$.mobile.table.prototype.options.classes=$.extend($.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),$.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(e){var $table=$(this),event=e.type,self=$table.data("mobile-table"),o=self.options;if("reflow"===o.mode){"refresh"!==event&&self.element.addClass(o.classes.reflowTable);var reverseHeaders=$(self.allHeaders.get().reverse());reverseHeaders.each(function(i){var $cells=$(this).jqmData("cells"),colstart=$(this).jqmData("colstart"),hierarchyClass=$cells.not(this).filter("thead th").length&&" ui-table-cell-label-top",text=$(this).text();if(""!==text)if(hierarchyClass){var iteration=parseInt($(this).attr("colspan"),10),filter="";iteration&&(filter="td:nth-child("+iteration+"n + "+colstart+")"),$cells.filter(filter).prepend("<b class='"+o.classes.cellLabels+hierarchyClass+"'>"+text+"</b>")}else $cells.prepend("<b class='"+o.classes.cellLabels+"'>"+text+"</b>")})}})}(jQuery),function($,window){function checkTilt(e){evt=e.originalEvent,aig=evt.accelerationIncludingGravity,x=Math.abs(aig.x),y=Math.abs(aig.y),z=Math.abs(aig.z),!window.orientation&&(x>7||(z>6&&8>y||8>z&&y>6)&&x>5)?zoom.enabled&&zoom.disable():zoom.enabled||zoom.enable()}$.mobile.iosorientationfixEnabled=!0;var ua=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(ua)&&ua.indexOf("AppleWebKit")>-1))return void($.mobile.iosorientationfixEnabled=!1);var evt,x,y,z,aig,zoom=$.mobile.zoom;$.mobile.document.on("mobileinit",function(){$.mobile.iosorientationfixEnabled&&$.mobile.window.bind("orientationchange.iosorientationfix",zoom.enable).bind("devicemotion.iosorientationfix",checkTilt)})}(jQuery,this),function($,window,undefined){function hideRenderingClass(){$html.removeClass("ui-mobile-rendering")}var $html=$("html"),$window=($("head"),$.mobile.window);$(window.document).trigger("mobileinit"),$.mobile.gradeA()&&($.mobile.ajaxBlacklist&&($.mobile.ajaxEnabled=!1),$html.addClass("ui-mobile ui-mobile-rendering"),setTimeout(hideRenderingClass,5e3),$.extend($.mobile,{initializePage:function(){var path=$.mobile.path,$pages=$(":jqmData(role='page'), :jqmData(role='dialog')"),hash=path.stripHash(path.stripQueryParams(path.parseLocation().hash)),hashPage=document.getElementById(hash);$pages.length||($pages=$("body").wrapInner("<div data-"+$.mobile.ns+"role='page'></div>").children(0)),$pages.each(function(){var $this=$(this);$this.jqmData("url")||$this.attr("data-"+$.mobile.ns+"url",$this.attr("id")||location.pathname+location.search)}),$.mobile.firstPage=$pages.first(),$.mobile.pageContainer=$.mobile.firstPage.parent().addClass("ui-mobile-viewport"),$.mobile.navreadyDeferred.resolve(),$window.trigger("pagecontainercreate"),$.mobile.showPageLoadingMsg(),hideRenderingClass(),$.mobile.hashListeningEnabled&&$.mobile.path.isHashValid(location.hash)&&($(hashPage).is(':jqmData(role="page")')||$.mobile.path.isPath(hash)||hash===$.mobile.dialogHashKey)?$.event.special.navigate.isPushStateEnabled()?($.mobile.navigate.history.stack=[],$.mobile.navigate($.mobile.path.isPath(location.hash)?location.hash:location.href)):$window.trigger("hashchange",[!0]):($.mobile.path.isHashValid(location.hash)&&($.mobile.urlHistory.initialDst=hash.replace("#","")),$.event.special.navigate.isPushStateEnabled()&&$.mobile.navigate.navigator.squash(path.parseLocation().href),$.mobile.changePage($.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),$(function(){window.scrollTo(0,1),$.mobile.defaultHomeScroll=$.support.scrollTop&&1!==$.mobile.window.scrollTop()?1:0,$.mobile.autoInitializePage&&$.mobile.initializePage(),$window.load($.mobile.silentScroll),$.support.cssPointerEvents||$.mobile.document.delegate(".ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(jQuery,this)});