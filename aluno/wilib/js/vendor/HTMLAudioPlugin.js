this.createjs=this.createjs||{},function(){"use strict";function HTMLAudioPlugin(){this.init()}var s=HTMLAudioPlugin;s.MAX_INSTANCES=30,s.capabilities=null,s.AUDIO_READY="canplaythrough",s.AUDIO_ENDED="ended",s.AUDIO_SEEKED="seeked",s.AUDIO_ERROR="error",s.AUDIO_STALLED="stalled",s.enableIOS=!1,s.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!s.enableIOS)return!0;s.generateCapabilities();var t=s.tag;return null!=t&&null!=s.capabilities},s.generateCapabilities=function(){if(null==s.capabilities){var t=s.tag=document.createElement("audio");if(null==t.canPlayType)return null;s.capabilities={panning:!0,volume:!0,tracks:-1};for(var supportedExtensions=createjs.Sound.SUPPORTED_EXTENSIONS,extensionMap=createjs.Sound.EXTENSION_MAP,i=0,l=supportedExtensions.length;l>i;i++){var ext=supportedExtensions[i],playType=extensionMap[ext]||ext;s.capabilities[ext]="no"!=t.canPlayType("audio/"+ext)&&""!=t.canPlayType("audio/"+ext)||"no"!=t.canPlayType("audio/"+playType)&&""!=t.canPlayType("audio/"+playType)}}};var p=HTMLAudioPlugin.prototype;p.capabilities=null,p.audioSources=null,p.defaultNumChannels=2,p.loadedHandler=null,p.init=function(){this.capabilities=s.capabilities,this.audioSources={}},p.register=function(src,instances){this.audioSources[src]=!0;for(var channel=createjs.HTMLAudioPlugin.TagPool.get(src),tag=null,l=instances||this.defaultNumChannels,i=0;l>i;i++)tag=this.createTag(src),channel.add(tag);if(tag.id=src,this.loadedHandler=createjs.proxy(this.handleTagLoad,this),tag.addEventListener&&tag.addEventListener("canplaythrough",this.loadedHandler),null==tag.onreadystatechange)tag.onreadystatechange=this.loadedHandler;else{var f=tag.onreadystatechange;tag.onreadystatechange=function(){f(),this.loadedHandler()}}return{tag:tag,numChannels:l}},p.handleTagLoad=function(event){event.target.removeEventListener&&event.target.removeEventListener("canplaythrough",this.loadedHandler),event.target.onreadystatechange=null,event.target.src!=event.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(event.target.id)},p.createTag=function(src){var tag=document.createElement("audio");return tag.autoplay=!1,tag.preload="none",tag.src=src,tag},p.removeSound=function(src){delete this.audioSources[src],createjs.HTMLAudioPlugin.TagPool.remove(src)},p.removeAllSounds=function(){this.audioSources={},createjs.HTMLAudioPlugin.TagPool.removeAll()},p.create=function(src){if(!this.isPreloadStarted(src)){var channel=createjs.HTMLAudioPlugin.TagPool.get(src),tag=this.createTag(src);tag.id=src,channel.add(tag),this.preload(src,{tag:tag})}return new createjs.HTMLAudioPlugin.SoundInstance(src,this)},p.isPreloadStarted=function(src){return null!=this.audioSources[src]},p.preload=function(src,instance,basePath){this.audioSources[src]=!0,null!=basePath&&(instance.tag.src=basePath+src),new createjs.HTMLAudioPlugin.Loader(src,instance.tag)},p.toString=function(){return"[HTMLAudioPlugin]"},createjs.HTMLAudioPlugin=HTMLAudioPlugin}(),function(){"use strict";function SoundInstance(src,owner){this.init(src,owner)}var p=SoundInstance.prototype;p.src=null,p.uniqueId=-1,p.playState=null,p.owner=null,p.loaded=!1,p.offset=0,p.delay=0,p._volume=1,Object.defineProperty(p,"volume",{get:function(){return this._volume},set:function(value){null!=Number(value)&&(value=Math.max(0,Math.min(1,value)),this._volume=value,this.updateVolume())}}),p.pan=0,p.duration=0,p.remainingLoops=0,p.delayTimeoutId=null,p.tag=null,p.muted=!1,p.paused=!1,p.addEventListener=null,p.removeEventListener=null,p.removeAllEventListeners=null,p.dispatchEvent=null,p.hasEventListener=null,p._listeners=null,p.endedHandler=null,p.readyHandler=null,p.stalledHandler=null,p.loopHandler=null,p.init=function(src,owner){this.src=src,this.owner=owner,this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this),this.loopHandler=createjs.proxy(this.handleSoundLoop,this)},p.sendEvent=function(type){var event=new createjs.Event(type);this.dispatchEvent(event)},p.cleanUp=function(){var tag=this.tag;if(null!=tag){tag.pause(),tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{tag.currentTime=0}catch(e){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,tag),this.tag=null}clearTimeout(this.delayTimeoutId),null!=window.createjs&&createjs.Sound.playFinished(this)},p.interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this.cleanUp(),this.paused=!1,this.sendEvent("interrupted"))},p.play=function(interrupt,delay,offset,loop,volume,pan){this.cleanUp(),createjs.Sound.playInstance(this,interrupt,delay,offset,loop,volume,pan)},p.beginPlaying=function(offset,loop,volume,pan){if(null==window.createjs)return-1;var tag=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==tag?(this.playFailed(),-1):(tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),this.offset=offset,this.volume=volume,this.pan=pan,this.updateVolume(),this.remainingLoops=loop,4!==tag.readyState?(tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),tag.preload="auto",tag.load()):this.handleSoundReady(null),this.sendEvent("succeeded"),1)},p.handleSoundStalled=function(event){this.cleanUp(),this.sendEvent("failed")},p.handleSoundReady=function(event){if(null!=window.createjs){if(this.duration=1e3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration())return void this.playFailed();this.offset>0&&(this.tag.currentTime=.001*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),0!=this.remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0),this.tag.play()}},p.pause=function(){return this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0)},p.resume=function(){return this.paused&&null!=this.tag?(this.paused=!1,this.tag.play(),!0):!1},p.stop=function(){return this.offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),!0},p.setMasterVolume=function(value){return this.updateVolume(),!0},p.setVolume=function(value){return this.volume=value,!0},p.updateVolume=function(){if(null!=this.tag){var newVolume=this.muted||createjs.Sound.masterMute?0:this._volume*createjs.Sound.masterVolume;return newVolume!=this.tag.volume&&(this.tag.volume=newVolume),!0}return!1},p.getVolume=function(value){return this.volume},p.setMasterMute=function(isMuted){return this.updateVolume(),!0},p.setMute=function(isMuted){return null==isMuted||void 0==isMuted?!1:(this.muted=isMuted,this.updateVolume(),!0)},p.getMute=function(){return this.muted},p.setPan=function(value){return!1},p.getPan=function(){return 0},p.getPosition=function(){return null==this.tag?this.offset:1e3*this.tag.currentTime},p.setPosition=function(value){if(null==this.tag)this.offset=value;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*value}catch(error){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)}return!0},p.getDuration=function(){return this.duration},p.handleSoundComplete=function(event){this.offset=0,null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete"))},p.handleSoundLoop=function(event){this.offset=0,this.remainingLoops--,0==this.remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)),this.sendEvent("loop")},p.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))},p.toString=function(){return"[HTMLAudioPlugin SoundInstance]"},createjs.EventDispatcher.initialize(SoundInstance.prototype),createjs.HTMLAudioPlugin.SoundInstance=SoundInstance}(),function(){"use strict";function Loader(src,tag){this.init(src,tag)}var p=Loader.prototype;p.src=null,p.tag=null,p.preloadTimer=null,p.loadedHandler=null,p.init=function(src,tag){if(this.src=src,this.tag=tag,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var f=this.tag.onreadystatechange;this.tag.onreadystatechange=function(){f(),this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto",this.tag.load()},p.preloadTick=function(){var buffered=this.tag.buffered,duration=this.tag.duration;buffered.length>0&&buffered.end(0)>=duration-1&&this.handleTagLoaded()},p.handleTagLoaded=function(){clearInterval(this.preloadTimer)},p.sendLoadedEvent=function(evt){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=null,createjs.Sound.sendFileLoadEvent(this.src)},p.toString=function(){return"[HTMLAudioPlugin Loader]"},createjs.HTMLAudioPlugin.Loader=Loader}(),function(){"use strict";function TagPool(src){this.init(src)}var s=TagPool;s.tags={},s.get=function(src){var channel=s.tags[src];return null==channel&&(channel=s.tags[src]=new TagPool(src)),channel},s.remove=function(src){var channel=s.tags[src];return null==channel?!1:(channel.removeAll(),delete s.tags[src],!0)},s.removeAll=function(){for(var channel in s.tags)s.tags[channel].removeAll();s.tags={}},s.getInstance=function(src){var channel=s.tags[src];return null==channel?null:channel.get()},s.setInstance=function(src,tag){var channel=s.tags[src];return null==channel?null:channel.set(tag)},s.checkSrc=function(src){var channel=s.tags[src];return null==channel?null:void channel.checkSrcChange()};var p=TagPool.prototype;p.src=null,p.length=0,p.available=0,p.tags=null,p.init=function(src){this.src=src,this.tags=[]},p.add=function(tag){this.tags.push(tag),this.length++,this.available++},p.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null,this.tags.length=0},p.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var tag=this.tags.pop();return null==tag.parentNode&&document.body.appendChild(tag),tag},p.set=function(tag){var index=createjs.indexOf(this.tags,tag);-1==index&&this.tags.push(tag),this.available=this.tags.length},p.checkSrcChange=function(){for(var i=this.tags.length-1,newSrc=this.tags[i].src;i--;)this.tags[i].src=newSrc},p.toString=function(){return"[HTMLAudioPlugin TagPool]"},createjs.HTMLAudioPlugin.TagPool=TagPool}();